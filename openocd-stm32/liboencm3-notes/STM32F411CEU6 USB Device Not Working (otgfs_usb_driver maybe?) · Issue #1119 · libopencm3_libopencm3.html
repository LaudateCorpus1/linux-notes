<!DOCTYPE html>
<html data-color-mode="auto" data-light-theme="light" data-dark-theme="dark" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com/">
  <link rel="dns-prefetch" href="https://avatars.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com/">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-4svx7vUpMhDYjGt2DPZyPKcmc68K7swfxFTM2vc1tFRbp70kReI9RJPHKe+astjLZJALq/ww/dmoBqckmkXTcw==" rel="stylesheet" href="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/frameworks-e2cbf1eef5293210d88c6b760cf6723c.css">
  
    <link crossorigin="anonymous" media="all" integrity="sha512-eVP0D3CwANEZk0NTlWaCqgnVsvA84DXehxb4i+wS3GKKdIMQegSIaheeP8lNFbA0KGSHrhNKzmuAXkCJQx4Tqg==" rel="stylesheet" href="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/behaviors-7953f40f70b000d119934353956682aa.css">
    
    
    
    <link crossorigin="anonymous" media="all" integrity="sha512-FcPIXwhXWuHuf1HS8DQLdZT7MhbGmoAlrn7usCVd51xjw0hXN2Ajgey7ex1Ma8LXKb1oNoR2xoERaLshHJdTJQ==" rel="stylesheet" href="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/github-15c3c85f08575ae1ee7f51d2f0340b75.css">

  <script crossorigin="anonymous" defer="defer" integrity="sha512-CzeY4A6TiG4fGZSWZU8FxmzFFmcQFoPpArF0hkH0/J/S7UL4eed/LKEXMQXfTwiG5yEJBI+9BdKG8KQJNbhcIQ==" type="application/javascript" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/environment-0b3798e0.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-urT9eUH5z67QgeSn0QGuzKxzEY87OMzixxbl7ys7pf1cp2tl7+7raeQVTYQQEtc10RcD3N+s4dh41cIBkZ+7sA==" type="application/javascript" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/chunk-frameworks-bab4fd79.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-YufdcMb4hh5uM2JSDx/MEATxourBQILRY0+74aM14JruGbjAyRYNY7hr/9+MOvY/ItDDo5pyqG/MHZr+5zZKHg==" type="application/javascript" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/chunk-vendor-62e7dd70.js"></script>
  
  <script crossorigin="anonymous" defer="defer" integrity="sha512-uvDUNPOd6a3Mdtl9AoeCPQ254LI4GCRd18o5/j/VskxRWx4oc7/6gSASYD+3/hrcK2FAUV9WuUCnZtuiPC1fZw==" type="application/javascript" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/behaviors-baf0d434.js"></script>
  
    <script crossorigin="anonymous" defer="defer" integrity="sha512-VuP/2HeHlwuxYb9sV0y9/hgN869dWIQDX2WZrvh4VAQjo6tb7PXzbBz0nOYROez0xFLxRc/u6sVU6fuYgcpN8w==" type="application/javascript" data-module-id="./chunk-animate-on-scroll.js" data-src="https://github.githubassets.com/assets/chunk-animate-on-scroll-56e3ffd8.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-ct3QiK2mvpg7zor9R2psdWnNMM2K32RU4RGRB/7yA5FyZ8H4iY6SNynXc7UaJqzBx6NaReg3GsWJPwW3kgAAig==" type="application/javascript" data-module-id="./chunk-codemirror.js" data-src="https://github.githubassets.com/assets/chunk-codemirror-72ddd088.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-M6W/sGLOuJXCIkw+doDl6zl7J9q2DmqdwftQCtyEiZM/UJNGRVQdyKwI/PAMxD12se/wCx3ZcyJs9nz0o0OSVw==" type="application/javascript" data-module-id="./chunk-color-modes.js" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/chunk-color-modes-33a5bfb0.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-zkYZSjUFqSifB+Lt76jclFMrfqpcPqevT801RZcoBNCZHRTBKcFrW9OyJoPOzKFv+fZVDRnqdqGsuIv5KOIgZg==" type="application/javascript" data-module-id="./chunk-contributions-spider-graph.js" data-src="https://github.githubassets.com/assets/chunk-contributions-spider-graph-ce46194a.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-6j/oSF+kbW+yetNPvI684VzAu9pzug6Vj2h+3u1LdCuRhR4jnuiHZfeQKls3nxcT/S3H+oIt7FtigE/aeoj+gg==" type="application/javascript" data-module-id="./chunk-drag-drop.js" data-src="https://github.githubassets.com/assets/chunk-drag-drop-ea3fe848.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-VSSd+Yzi2iMS+pibY6hD/WdypxAEdob5F2RMKxuKcAHS2EpFYJPeTXoVxt0NXg03tfj2dka2mEtHS+vjpYSaDw==" type="application/javascript" data-module-id="./chunk-edit-hook-secret-element.js" data-src="https://github.githubassets.com/assets/chunk-edit-hook-secret-element-55249df9.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-N+ziqJjVMfWiqeVHdayDHpNRlG5HsF+cgV+pFnMDoTJuvBzgw+ndsepe4NcKAxIS3WMvzMaQcYmd2vrIaoAJVg==" type="application/javascript" data-module-id="./chunk-edit.js" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/chunk-edit-37ece2a8.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-aiqMIGGZGo8AQMjcoImKPMTsZVVRl6htCSY7BpRmpGPG/AF+Wq+P/Oj/dthWQOIk9cCNMPEas7O2zAR6oqn0tA==" type="application/javascript" data-module-id="./chunk-emoji-picker-element.js" data-src="https://github.githubassets.com/assets/chunk-emoji-picker-element-6a2a8c20.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-ejCT9r9E93nir+wK3PibZdMK0J3VXEkbwlgdnOnaUNoiJDI60BMtFt1QwjMU/rLXcjnH0xvgVFINGBFkzvTmRw==" type="application/javascript" data-module-id="./chunk-filter-input.js" data-src="https://github.githubassets.com/assets/chunk-filter-input-7a3093f6.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-Z1wcyOFQHzyMSPqp5DLKrobr3DN2Q6Dz31cfPtw4b2vPs9PX0PrxyDXHpTbIlcZ9qT1M1BNAypHKKw8Lp6Yx/Q==" type="application/javascript" data-module-id="./chunk-insights-graph.js" data-src="https://github.githubassets.com/assets/chunk-insights-graph-675c1cc8.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-4iRI95LO0kKcZLWUoOzqI6w8IVGppDVluR4dL7yyz8zgBu/7JAib0MkRN5LUVxXv0KIT6mQ2m5jbKa1NeZoD5A==" type="application/javascript" data-module-id="./chunk-invitations.js" data-src="https://github.githubassets.com/assets/chunk-invitations-e22448f7.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-Dhn0P9aANkDPzMxpqETLGel8ELkO93wrLFrMnEOSg8DguOxR7UNY1MyL3lexSVWo/ZZvme3kcWTaM6gw/DJW1w==" type="application/javascript" data-module-id="./chunk-jump-to.js" data-src="https://github.githubassets.com/assets/chunk-jump-to-0e19f43f.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-0DSZHh/iD27pAOXl4AWcxPqgRsJAVr1M8SnaN4gKYH2ZplPywvL5oalqN4Qj03FsB5Ll0pytD5kiTMibgGq0BA==" type="application/javascript" data-module-id="./chunk-launch-code-element.js" data-src="https://github.githubassets.com/assets/chunk-launch-code-element-d034991e.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-RduaLAviB2ygvRK/eX5iwzYO43ie7svrJ0rYJs06x7XqpRl/IK8PPBscBWM9Moo5Z86DK2iRLE2+aR7TJ5Uc2Q==" type="application/javascript" data-module-id="./chunk-metric-selection-element.js" data-src="https://github.githubassets.com/assets/chunk-metric-selection-element-45db9a2c.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-Lo0j1owPfYM0txt85KwGzF1PQJLvLFGbRJoASd5ZKMQAV9ZSDg5bVm5UWBAz7glGzw1pkiUD2bCMs2wqyf+CEA==" type="application/javascript" data-module-id="./chunk-notification-list-focus.js" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/chunk-notification-list-focus-2e8d23d6.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-ma0OOy3nj0c1cqBx0BkcmIFsLqcSZ+MIukQxyEFM/OWTzZpG+QMgOoWPAHZz43M6fyjAUG1jH6c/6LPiiKPCyw==" type="application/javascript" data-module-id="./chunk-profile-pins-element.js" data-src="https://github.githubassets.com/assets/chunk-profile-pins-element-99ad0e3b.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-/kPLzWIe41nxla5A+wcKKPIw4xiAsuITdjbXGVCycmUYnADfCids8FdV+TCA68gr4jAhKIws7flLpL12MoouBA==" type="application/javascript" data-module-id="./chunk-readme-toc-element.js" data-src="https://github.githubassets.com/assets/chunk-readme-toc-element-fe43cbcd.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-F0E2A5YYSz+7eA/RyQ/vYtJzeK2sjNyyneVBqru/CPoRXGBiAcJ2tpN2MWLxkNCqirt88h/BMCAF/7YTZ2qZJA==" type="application/javascript" data-module-id="./chunk-ref-selector.js" data-src="https://github.githubassets.com/assets/chunk-ref-selector-17413603.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-Zii9oRdZ6q2QDNjL5A+me7jwJjMLvs1NiQNHmajUZnn4t9shcBDb4F8l/PQZW26eYfe5065oM7lIOSmbMinA7Q==" type="application/javascript" data-module-id="./chunk-responsive-underlinenav.js" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/chunk-responsive-underlinenav-6628bda1.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-UUeOf6fdSNCh5PEil2eqo9JMci+9FbJ2YdzZ1rE8fFMYtanaPRRJSidxpPbnl16jxAuQo0QzosPRMKbiFuN0sQ==" type="application/javascript" data-module-id="./chunk-runner-groups.js" data-src="https://github.githubassets.com/assets/chunk-runner-groups-51478e7f.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-tk76eoSLUqXSVZ8ANzPprrOImFIV1zQ/VBV+WzG8ZjZpVPH8cLkMH/ur5HJB1lxx9/yo+V2wjDF96t4qfUwZLA==" type="application/javascript" data-module-id="./chunk-severity-calculator-element.js" data-src="https://github.githubassets.com/assets/chunk-severity-calculator-element-b64efa7a.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-fIq9Mn7jY/bHQXnsmh+VejpDnaO+d/FDxsp+4CuZtdNLrLuO+dQCjh+m6Yd8GCYD2Cy6DWbCEyM+mH2dkB2H9A==" type="application/javascript" data-module-id="./chunk-sortable-behavior.js" data-src="https://github.githubassets.com/assets/chunk-sortable-behavior-7c8abd32.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-WK8VXw3lfUQ/VRW0zlgKPhcMUqH0uTnB/KzePUPdZhCm/HpxfXXHKTGvj5C0Oex7+zbIM2ECzULbtTCT4ug3yg==" type="application/javascript" data-module-id="./chunk-toast.js" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/chunk-toast-58af155f.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-vgHJEmEJxNmHucGbVY8bEUoOYo5/ZwpQ69rU8Dld89daWJ54uad9lNptxq32F8pnbHhdngw9lohNEbMbjmj5AQ==" type="application/javascript" data-module-id="./chunk-tweetsodium.js" data-src="https://github.githubassets.com/assets/chunk-tweetsodium-be01c912.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-a+Pr9qPUoA3j8O0EiWfWwxWH4ZiB1fweLkYrjYlvyy/SeJbcjR1B4UyYjypFb9kvoy7I2bwXU9ctjZInmlyBXg==" type="application/javascript" data-module-id="./chunk-user-status-submit.js" data-src="https://github.githubassets.com/assets/chunk-user-status-submit-6be3ebf6.js"></script>
  
  <script crossorigin="anonymous" defer="defer" integrity="sha512-5RzLvbfuQSCePOSnUGiea/5PQlZqghF+yglx1FDctjt0yFsrMJi8tsPjBSxb+I+Mc9RfgGCwnCmY1PtQWAIBBA==" type="application/javascript" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/issues-e51ccbbd.js"></script>
<script crossorigin="anonymous" defer="defer" integrity="sha512-VupbTryGTUXd3k9Yq8szvcNdFdgkj5epSK6VVnglxdZTS0cjxpbHXraxNJY7pbU5wbaylVTqycXhCg2r3Gr9vg==" type="application/javascript" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/issue-to-discussion-conversions-56ea5b4e.js"></script>
<script crossorigin="anonymous" defer="defer" integrity="sha512-cuDaJoSujmKNFM0IJheh/W7Orq59sjCs84NAYLiRQzt+RvehPdvZSOrO6xHrl3CcWrPZmt8GScnq2elSuL1VGA==" type="application/javascript" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/structured-issues-72e0da26.js"></script>

  <meta name="viewport" content="width=device-width">
  
  <title>STM32F411CEU6 USB Device Not Working (otgfs_usb_driver maybe?) · Issue #1119 · libopencm3/libopencm3</title>
    <meta name="description" content="I'm trying to get some stm32f4 exapmples working on this STM32F411CEU6 board, but no luck. I'm using the example code for /stm32/f4/stm32f4-discovery/. Since STM32F411CEU6 can only go up to 100MHz and the crystal on the board is 25MHz, I...">
    <link rel="search" type="application/opensearchdescription+xml" href="https://github.com/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">
  <meta name="apple-itunes-app" content="app-id=1477376905">
    <meta name="twitter:image:src" content="https://opengraph.githubassets.com/b00bf7d4ba28afb654ece12fabfb2344ffe616c4a124dc74f5f12da563819765/libopencm3/libopencm3/issues/1119"><meta name="twitter:site" content="@github"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="STM32F411CEU6 USB Device Not Working (otgfs_usb_driver maybe?) · Issue #1119 · libopencm3/libopencm3"><meta name="twitter:description" content="I&amp;amp;#39;m trying to get some stm32f4 exapmples working on this STM32F411CEU6 board, but no luck. I&amp;amp;#39;m using the example code for /stm32/f4/stm32f4-discovery/. Since STM32F411CEU6 can only ...">
    <meta property="og:image" content="https://opengraph.githubassets.com/b00bf7d4ba28afb654ece12fabfb2344ffe616c4a124dc74f5f12da563819765/libopencm3/libopencm3/issues/1119"><meta property="og:image:alt" content="I&amp;#39;m trying to get some stm32f4 exapmples working on this STM32F411CEU6 board, but no luck. I&amp;#39;m using the example code for /stm32/f4/stm32f4-discovery/. Since STM32F411CEU6 can only go up to..."><meta property="og:image:width" content="1200"><meta property="og:image:height" content="600"><meta property="og:site_name" content="GitHub"><meta property="og:type" content="object"><meta property="og:title" content="STM32F411CEU6 USB Device Not Working (otgfs_usb_driver maybe?) · Issue #1119 · libopencm3/libopencm3"><meta property="og:url" content="https://github.com/libopencm3/libopencm3/issues/1119"><meta property="og:description" content="I&amp;#39;m trying to get some stm32f4 exapmples working on this STM32F411CEU6 board, but no luck. I&amp;#39;m using the example code for /stm32/f4/stm32f4-discovery/. Since STM32F411CEU6 can only go up to...">



    

  <link rel="assets" href="https://github.githubassets.com/">
    <link rel="shared-web-socket" href="wss://alive.github.com/_sockets/u/12674623/ws?session=eyJ2IjoiVjMiLCJ1IjoxMjY3NDYyMywicyI6NzA3NTQwMDQ3LCJjIjoyNDY3MTMzOTY2LCJ0IjoxNjIzMjkwMDQ1fQ==--b982c85ee45bc79bfa0ba5cd6cf29879c3b797f76bba3e64cbcb1126831a2c76" data-refresh-url="/_alive" data-session-id="41560224c849305f18a49c3a5dc64475748de6b2fcceef7fee52445d79e0f352">
    <link rel="shared-web-socket-src" href="https://github.com/socket-worker-3f088aa2.js">
  <link rel="sudo-modal" href="https://github.com/sessions/sudo_modal">

  <meta name="request-id" content="DCD6:531D:120360F:18BB872:60C170BC" data-pjax-transient="true"><meta name="html-safe-nonce" content="f7c9842c05a92301a9f5d06bd264780e8143de90d68e496211f150163a5afecf" data-pjax-transient="true"><meta name="visitor-payload" content="eyJyZWZlcnJlciI6Imh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vIiwicmVxdWVzdF9pZCI6IkRDRDY6NTMxRDoxMjAzNjBGOjE4QkI4NzI6NjBDMTcwQkMiLCJ2aXNpdG9yX2lkIjoiNDA3NDM5ODcxNTI2NjI1MTc0MiIsInJlZ2lvbl9lZGdlIjoiaWFkIiwicmVnaW9uX3JlbmRlciI6ImlhZCJ9" data-pjax-transient="true"><meta name="visitor-hmac" content="358cd2caf949295ecde407f4e8527924664f46931787f1c3a0e875d70c21d6b0" data-pjax-transient="true">

    <meta name="hovercard-subject-tag" content="issue:512946760" data-pjax-transient="">


  <meta name="github-keyboard-shortcuts" content="repository,issues" data-pjax-transient="true">

  

  <meta name="selected-link" value="repo_issues" data-pjax-transient="">

    <meta name="google-site-verification" content="c1kuD-K2HIVF635lypcsWPoD4kilo5-jA_wBFyT4uMY">
  <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">

  <meta name="octolytics-host" content="collector.githubapp.com"><meta name="octolytics-app-id" content="github"><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event"><meta name="octolytics-actor-id" content="12674623"><meta name="octolytics-actor-login" content="bm16ton"><meta name="octolytics-actor-hash" content="c48d065cddc599cec01ef2d99a5cb70419fd1717d63469f6ba191afafaa015b8">

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/issues/show" data-pjax-transient="true">

  



  <meta name="optimizely-datafile" content="{&quot;version&quot;: &quot;4&quot;, &quot;rollouts&quot;: [], &quot;typedAudiences&quot;: [], &quot;anonymizeIP&quot;: true, &quot;projectId&quot;: &quot;16737760170&quot;, &quot;variables&quot;: [], &quot;featureFlags&quot;: [], &quot;experiments&quot;: [{&quot;status&quot;: &quot;Running&quot;, &quot;audienceIds&quot;: [], &quot;variations&quot;: [{&quot;variables&quot;: [], &quot;id&quot;: &quot;20106410318&quot;, &quot;key&quot;: &quot;en&quot;}, {&quot;variables&quot;: [], &quot;id&quot;: &quot;20122000362&quot;, &quot;key&quot;: &quot;ko&quot;}], &quot;id&quot;: &quot;20121990335&quot;, &quot;key&quot;: &quot;ko_homepage_translation&quot;, &quot;layerId&quot;: &quot;20100420349&quot;, &quot;trafficAllocation&quot;: [{&quot;entityId&quot;: &quot;20106410318&quot;, &quot;endOfRange&quot;: 5000}, {&quot;entityId&quot;: &quot;20122000362&quot;, &quot;endOfRange&quot;: 10000}], &quot;forcedVariations&quot;: {}}, {&quot;status&quot;: &quot;Running&quot;, &quot;audienceIds&quot;: [], &quot;variations&quot;: [{&quot;variables&quot;: [], &quot;id&quot;: &quot;20227754799&quot;, &quot;key&quot;: &quot;control&quot;}, {&quot;variables&quot;: [], &quot;id&quot;: &quot;20233267869&quot;, &quot;key&quot;: &quot;treatment&quot;}], &quot;id&quot;: &quot;20194668672&quot;, &quot;key&quot;: &quot;recommended_plan_in_signup&quot;, &quot;layerId&quot;: &quot;20231804245&quot;, &quot;trafficAllocation&quot;: [{&quot;entityId&quot;: &quot;20233267869&quot;, &quot;endOfRange&quot;: 2500}, {&quot;entityId&quot;: &quot;&quot;, &quot;endOfRange&quot;: 5000}, {&quot;entityId&quot;: &quot;20227754799&quot;, &quot;endOfRange&quot;: 7500}, {&quot;entityId&quot;: &quot;&quot;, &quot;endOfRange&quot;: 10000}], &quot;forcedVariations&quot;: {&quot;d0c8cbf56b61c99517936207d280de0c&quot;: &quot;treatment&quot;}}, {&quot;status&quot;: &quot;Running&quot;, &quot;audienceIds&quot;: [], &quot;variations&quot;: [{&quot;variables&quot;: [], &quot;id&quot;: &quot;20233300304&quot;, &quot;key&quot;: &quot;launch_code_variation&quot;}, {&quot;variables&quot;: [], &quot;id&quot;: &quot;20227370325&quot;, &quot;key&quot;: &quot;control&quot;}], &quot;id&quot;: &quot;20206000276&quot;, &quot;key&quot;: &quot;launch_code_verification&quot;, &quot;layerId&quot;: &quot;20233240262&quot;, &quot;trafficAllocation&quot;: [{&quot;entityId&quot;: &quot;20233300304&quot;, &quot;endOfRange&quot;: 5000}, {&quot;entityId&quot;: &quot;20233300304&quot;, &quot;endOfRange&quot;: 10000}], &quot;forcedVariations&quot;: {}}], &quot;audiences&quot;: [{&quot;conditions&quot;: &quot;[\&quot;or\&quot;, {\&quot;match\&quot;: \&quot;exact\&quot;, \&quot;name\&quot;: \&quot;$opt_dummy_attribute\&quot;, \&quot;type\&quot;: \&quot;custom_attribute\&quot;, \&quot;value\&quot;: \&quot;$opt_dummy_value\&quot;}]&quot;, &quot;id&quot;: &quot;$opt_dummy_audience&quot;, &quot;name&quot;: &quot;Optimizely-Generated Audience for Backwards Compatibility&quot;}], &quot;groups&quot;: [], &quot;attributes&quot;: [{&quot;id&quot;: &quot;16822470375&quot;, &quot;key&quot;: &quot;user_id&quot;}, {&quot;id&quot;: &quot;17143601254&quot;, &quot;key&quot;: &quot;spammy&quot;}, {&quot;id&quot;: &quot;18175660309&quot;, &quot;key&quot;: &quot;organization_plan&quot;}, {&quot;id&quot;: &quot;18813001570&quot;, &quot;key&quot;: &quot;is_logged_in&quot;}, {&quot;id&quot;: &quot;19073851829&quot;, &quot;key&quot;: &quot;geo&quot;}, {&quot;id&quot;: &quot;20175462351&quot;, &quot;key&quot;: &quot;requestedCurrency&quot;}], &quot;botFiltering&quot;: false, &quot;accountId&quot;: &quot;16737760170&quot;, &quot;events&quot;: [{&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;17911811441&quot;, &quot;key&quot;: &quot;hydro_click.dashboard.teacher_toolbox_cta&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18124116703&quot;, &quot;key&quot;: &quot;submit.organizations.complete_sign_up&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18145892387&quot;, &quot;key&quot;: &quot;no_metric.tracked_outside_of_optimizely&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18178755568&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.add_repo&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18180553241&quot;, &quot;key&quot;: &quot;submit.repository_imports.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18186103728&quot;, &quot;key&quot;: &quot;click.help.learn_more_about_repository_creation&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18188530140&quot;, &quot;key&quot;: &quot;test_event.do_not_use_in_production&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18191963644&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.transfer_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18195612788&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.import_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18210945499&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.invite_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18211063248&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.create_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18215721889&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.update_profile&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18224360785&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.dismiss&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18234832286&quot;, &quot;key&quot;: &quot;submit.organization_activation.complete&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18252392383&quot;, &quot;key&quot;: &quot;submit.org_repository.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18257551537&quot;, &quot;key&quot;: &quot;submit.org_member_invitation.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18259522260&quot;, &quot;key&quot;: &quot;submit.organization_profile.update&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18564603625&quot;, &quot;key&quot;: &quot;view.classroom_select_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18568612016&quot;, &quot;key&quot;: &quot;click.classroom_sign_in_click&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18572592540&quot;, &quot;key&quot;: &quot;view.classroom_name&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18574203855&quot;, &quot;key&quot;: &quot;click.classroom_create_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18582053415&quot;, &quot;key&quot;: &quot;click.classroom_select_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18589463420&quot;, &quot;key&quot;: &quot;click.classroom_create_classroom&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18591323364&quot;, &quot;key&quot;: &quot;click.classroom_create_first_classroom&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18591652321&quot;, &quot;key&quot;: &quot;click.classroom_grant_access&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18607131425&quot;, &quot;key&quot;: &quot;view.classroom_creation&quot;}, {&quot;experimentIds&quot;: [&quot;20194668672&quot;], &quot;id&quot;: &quot;18831680583&quot;, &quot;key&quot;: &quot;upgrade_account_plan&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19064064515&quot;, &quot;key&quot;: &quot;click.signup&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19075373687&quot;, &quot;key&quot;: &quot;click.view_account_billing_page&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19077355841&quot;, &quot;key&quot;: &quot;click.dismiss_signup_prompt&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19079713938&quot;, &quot;key&quot;: &quot;click.contact_sales&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19120963070&quot;, &quot;key&quot;: &quot;click.compare_account_plans&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19151690317&quot;, &quot;key&quot;: &quot;click.upgrade_account_cta&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19424193129&quot;, &quot;key&quot;: &quot;click.open_account_switcher&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19520330825&quot;, &quot;key&quot;: &quot;click.visit_account_profile&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19540970635&quot;, &quot;key&quot;: &quot;click.switch_account_context&quot;}, {&quot;experimentIds&quot;: [&quot;20121990335&quot;], &quot;id&quot;: &quot;19730198868&quot;, &quot;key&quot;: &quot;submit.homepage_signup&quot;}, {&quot;experimentIds&quot;: [&quot;20121990335&quot;], &quot;id&quot;: &quot;19820830627&quot;, &quot;key&quot;: &quot;click.homepage_signup&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19988571001&quot;, &quot;key&quot;: &quot;click.create_enterprise_trial&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20036538294&quot;, &quot;key&quot;: &quot;click.create_organization_team&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20040653299&quot;, &quot;key&quot;: &quot;click.input_enterprise_trial_form&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20062030003&quot;, &quot;key&quot;: &quot;click.continue_with_team&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20068947153&quot;, &quot;key&quot;: &quot;click.create_organization_free&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20086636658&quot;, &quot;key&quot;: &quot;click.signup_continue.username&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20091648988&quot;, &quot;key&quot;: &quot;click.signup_continue.create_account&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20103637615&quot;, &quot;key&quot;: &quot;click.signup_continue.email&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20111574253&quot;, &quot;key&quot;: &quot;click.signup_continue.password&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20120044111&quot;, &quot;key&quot;: &quot;view.pricing_page&quot;}, {&quot;experimentIds&quot;: [&quot;20121990335&quot;], &quot;id&quot;: &quot;20152062109&quot;, &quot;key&quot;: &quot;submit.create_account&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20165800992&quot;, &quot;key&quot;: &quot;submit.upgrade_payment_form&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20171520319&quot;, &quot;key&quot;: &quot;submit.create_organization&quot;}, {&quot;experimentIds&quot;: [&quot;20194668672&quot;], &quot;id&quot;: &quot;20222645674&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.discuss_your_needs&quot;}, {&quot;experimentIds&quot;: [&quot;20206000276&quot;], &quot;id&quot;: &quot;20227443657&quot;, &quot;key&quot;: &quot;submit.verify_primary_user_email&quot;}, {&quot;experimentIds&quot;: [&quot;20194668672&quot;], &quot;id&quot;: &quot;20234607160&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.try_enterprise&quot;}, {&quot;experimentIds&quot;: [&quot;20194668672&quot;], &quot;id&quot;: &quot;20238175784&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.team&quot;}, {&quot;experimentIds&quot;: [&quot;20194668672&quot;], &quot;id&quot;: &quot;20239847212&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.continue_free&quot;}, {&quot;experimentIds&quot;: [&quot;20194668672&quot;], &quot;id&quot;: &quot;20251097193&quot;, &quot;key&quot;: &quot;recommended_plan&quot;}], &quot;revision&quot;: &quot;694&quot;}">
  <!-- To prevent page flashing, the optimizely JS needs to be loaded in the
    <head> tag before the DOM renders -->
  <script crossorigin="anonymous" defer="defer" integrity="sha512-yDmmCGyENqEePvF9X9A4omxWCNcbS6qK2h8HZPdnvXd02Vzhtqd0zRd/pgTgqQ/xOA02F3H225VpJvDXrnfNbA==" type="application/javascript" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/optimizely-c839a608.js"></script>



  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="bm16ton">


      <meta name="expected-hostname" content="github.com">

      <meta name="js-proxy-site-detection-payload" content="MmIyYWVkYzU1MGNlN2MyYTU1ZGVhMDM1NmE4NjgzOGJlMWExZGY3YTEwNzJjNGEyOGE1NDc2ZmU2YjRiZTQ2MXx7InJlbW90ZV9hZGRyZXNzIjoiNjcuMjQxLjEzOC4yMTQiLCJyZXF1ZXN0X2lkIjoiRENENjo1MzFEOjEyMDM2MEY6MThCQjg3Mjo2MEMxNzBCQyIsInRpbWVzdGFtcCI6MTYyMzI5MDA0NSwiaG9zdCI6ImdpdGh1Yi5jb20ifQ==">

    <meta name="enabled-features" content="MARKETPLACE_PENDING_INSTALLATIONS,NEW_ICONS_EXPERIMENT,AUTOCOMPLETE_EMOJIS_IN_MARKDOWN_EDITOR,GITHUB_TOKEN_PERMISSION">

  <meta http-equiv="x-pjax-version" content="f2458f25dc1ea53a47635237c19b8e61cef8bb1a38b32fa6b26dc6fe471b28a6">
  

    
  <meta name="go-import" content="github.com/libopencm3/libopencm3 git https://github.com/libopencm3/libopencm3.git">

  <meta name="octolytics-dimension-user_id" content="1656279"><meta name="octolytics-dimension-user_login" content="libopencm3"><meta name="octolytics-dimension-repository_id" content="4065980"><meta name="octolytics-dimension-repository_nwo" content="libopencm3/libopencm3"><meta name="octolytics-dimension-repository_public" content="true"><meta name="octolytics-dimension-repository_is_fork" content="false"><meta name="octolytics-dimension-repository_network_root_id" content="4065980"><meta name="octolytics-dimension-repository_network_root_nwo" content="libopencm3/libopencm3">





  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <meta name="browser-optimizely-client-errors-url" content="https://api.github.com/_private/browser/optimizely_client/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg">

<meta name="theme-color" content="#1e2327">
<meta name="color-scheme" content="light dark">


  <link rel="manifest" href="https://github.com/manifest.json" crossorigin="use-credentials">

<meta name="enabled-homepage-translation-languages" content="ko">

  </head>

  <body class="logged-in env-production page-responsive intent-mouse" style="word-wrap: break-word;">
    

    <div class="position-relative js-header-wrapper ">
      <a href="#start-of-content" class="p-3 color-bg-info-inverse color-text-white show-on-focus js-skip-to-content">Skip to content</a>
      <span data-view-component="true" class="progress-pjax-loader width-full js-pjax-loader-bar Progress position-fixed">
    <span style="background-color: #79b8ff;width: 0%;" data-view-component="true" class="Progress-item progress-pjax-loader-bar"></span>
</span>      
      


        
            <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap" role="banner">
    <div class="Header-item mt-n1 mb-n1  d-none d-md-flex">
      <a class="Header-link " href="https://github.com/" data-hotkey="g d" aria-label="Homepage " data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>

    </div>

    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button" aria-label="Toggle navigation" aria-expanded="false">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="24" width="24" class="octicon octicon-three-bars">
    <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path>
</svg>
      </button>
    </div>

    <div class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
          


  <div class="header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
    <div class="position-relative">
      <!-- '"` --><!-- </textarea></xmp> --><form class="js-site-search-form" role="search" aria-label="Site" data-scope-type="Repository" data-scope-id="4065980" data-scoped-search-url="/libopencm3/libopencm3/search" data-owner-scoped-search-url="/orgs/libopencm3/search" data-unscoped-search-url="/search" action="/libopencm3/libopencm3/search" accept-charset="UTF-8" method="get">
        <label class="form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
          <input type="text" class="form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable" data-hotkey="s,/" name="q" placeholder="Search or jump to…" data-unscoped-placeholder="Search or jump to…" data-scoped-placeholder="Search or jump to…" autocapitalize="off" role="combobox" aria-haspopup="listbox" aria-expanded="false" aria-autocomplete="list" aria-controls="jump-to-results" aria-label="Search or jump to…" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" spellcheck="false" autocomplete="off">
          <input type="hidden" value="oVGmI0iiqsZ8VFa657EuyRDwwziZlQJvShMCytyo4xQCX00Wq7YLRxVFtEYpgtpX3Vxq1XG+0YEqK03VPcYIKQ==" data-csrf="true" class="js-data-jump-to-suggestions-path-csrf">
          <input type="hidden" class="js-site-search-type-field" name="type">
              <img src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/search-key-slash.svg" alt="" class="mr-2 header-search-key-slash">

            <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
              
<ul class="d-none js-jump-to-suggestions-template-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="" data-item-type="suggestion">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

</ul>

<ul class="d-none js-jump-to-no-results-template-container">
  <li class="d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2">
    <span class="color-text-secondary">No suggested jump to results</span>
  </li>
</ul>

<ul id="jump-to-results" role="listbox" class="p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="" data-item-type="scoped_search">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-owner-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="" data-item-type="owner_scoped_search">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this organization">
        In this organization
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="" data-item-type="global_search">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>


    <li class="d-flex flex-justify-center flex-items-center p-0 f5 js-jump-to-suggestion">
      <svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="m-3 anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
    </li>
</ul>

            </div>
        </label>
</form>    </div>
  </div>

        <nav class="d-flex flex-column flex-md-row flex-self-stretch flex-md-self-auto" aria-label="Global">
      <a class="Header-link py-md-3 d-block d-md-none py-2 border-top border-md-top-0 border-white-fade" data-ga-click="Header, click, Nav menu - item:dashboard:user" aria-label="Dashboard" href="https://github.com/dashboard">
        Dashboard
</a>
    <a class="js-selected-navigation-item Header-link mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade" data-hotkey="g p" data-ga-click="Header, click, Nav menu - item:pulls context:user" aria-label="Pull requests you created" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls" href="https://github.com/pulls">
        Pull<span class="d-inline d-md-none d-lg-inline"> request</span>s
</a>
    <a class="js-selected-navigation-item Header-link mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade" data-hotkey="g i" data-ga-click="Header, click, Nav menu - item:issues context:user" aria-label="Issues you created" data-selected-links="/issues /issues/assigned /issues/mentioned /issues" href="https://github.com/issues">
      Issues
</a>
      <div class="d-flex position-relative">
        <a class="js-selected-navigation-item Header-link flex-auto mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-octo-click="marketplace_click" data-octo-dimensions="location:nav_bar" data-selected-links=" /marketplace" href="https://github.com/marketplace">
          Marketplace
</a>      </div>

    <a class="js-selected-navigation-item Header-link mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="https://github.com/explore">
      Explore
</a>
    <a class="js-selected-navigation-item Header-link d-block d-md-none py-2 py-md-3 border-top border-md-top-0 border-white-fade" data-ga-click="Header, click, Nav menu - item:workspaces context:user" data-selected-links="/codespaces /codespaces" href="https://github.com/codespaces">
      Codespaces
</a>
      <a class="js-selected-navigation-item Header-link d-block d-md-none py-2 py-md-3 border-top border-md-top-0 border-white-fade" data-ga-click="Header, click, Nav menu - item:Sponsors" data-hydro-click="{&quot;event_type&quot;:&quot;sponsors.button_click&quot;,&quot;payload&quot;:{&quot;button&quot;:&quot;HEADER_SPONSORS_DASHBOARD&quot;,&quot;sponsorable_login&quot;:&quot;bm16ton&quot;,&quot;originating_url&quot;:&quot;https://github.com/libopencm3/libopencm3/issues/1119&quot;,&quot;user_id&quot;:12674623}}" data-hydro-click-hmac="23fd0cd5596f9ebb29b09d9ceafe0ca0772bd354d9df09d599c8656cd2b98ce4" data-selected-links=" /sponsors/accounts" href="https://github.com/sponsors/accounts">Sponsors</a>

    <a class="Header-link d-block d-md-none mr-0 mr-md-3 py-2 py-md-3 border-top border-md-top-0 border-white-fade" href="https://github.com/settings/profile">
      Settings
</a>
    <a class="Header-link d-block d-md-none mr-0 mr-md-3 py-2 py-md-3 border-top border-md-top-0 border-white-fade" href="https://github.com/bm16ton">
      <img class="avatar avatar-user" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/12674623_002.png" alt="@bm16ton" width="20" height="20">
      bm16ton
</a>
    <!-- '"` --><!-- </textarea></xmp> --><form action="/logout" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="heloF9i0tAa0VYnqEfmWXsPVlgI+OR3SIS2w9l2WFeCYoiWJJ/B3Hm4gIFykJGX3f5JPa/8zxHInryFm8A4izw==">
      <button type="submit" class="Header-link mr-0 mr-md-3 py-2 py-md-3 border-top border-md-top-0 border-white-fade d-md-none btn-link d-block width-full text-left" data-ga-click="Header, sign out, icon:logout" style="padding-left: 2px;">
        <svg class="octicon octicon-sign-out v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 2.75C2 1.784 2.784 1 3.75 1h2.5a.75.75 0 010 1.5h-2.5a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h2.5a.75.75 0 010 1.5h-2.5A1.75 1.75 0 012 13.25V2.75zm10.44 4.5H6.75a.75.75 0 000 1.5h5.69l-1.97 1.97a.75.75 0 101.06 1.06l3.25-3.25a.75.75 0 000-1.06l-3.25-3.25a.75.75 0 10-1.06 1.06l1.97 1.97z"></path></svg>
        Sign out
      </button>
</form></nav>

    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
        <a class="Header-link " href="https://github.com/" data-hotkey="g d" aria-label="Homepage " data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>

    </div>

    <div class="Header-item mr-0 mr-md-3 flex-order-1 flex-md-order-none">
        


      <notification-indicator class="js-socket-channel" data-test-selector="notifications-indicator" data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6MTI2NzQ2MjMiLCJ0IjoxNjIzMjkwMDQ1fQ==--cd64df97cd114f63244e89518d7d74145e20cb84b8b19b745a6dfcffbd41c3b9" data-catalyst="">
        <a href="https://github.com/notifications" class="Header-link notification-indicator position-relative tooltipped tooltipped-sw" aria-label="You have no unread notifications" data-hotkey="g n" data-ga-click="Header, go to notifications, icon:read" data-target="notification-indicator.link">
          <span class="mail-status  " data-target="notification-indicator.modifier"></span>
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-bell">
    <path d="M8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path><path fill-rule="evenodd" d="M8 1.5A3.5 3.5 0 004.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01l.001.006c0 .002.002.004.004.006a.017.017 0 00.006.004l.007.001h10.964l.007-.001a.016.016 0 00.006-.004.016.016 0 00.004-.006l.001-.007a.017.017 0 00-.003-.01l-1.703-2.554a1.75 1.75 0 01-.294-.97V5A3.5 3.5 0 008 1.5zM3 5a5 5 0 0110 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.518 1.518 0 0113.482 13H2.518a1.518 1.518 0 01-1.263-2.36l1.703-2.554A.25.25 0 003 7.947V5z"></path>
</svg>
        </a>
      </notification-indicator>

    </div>


    <div class="Header-item position-relative d-none d-md-flex">
        <details class="details-overlay details-reset">
  <summary class="Header-link" aria-label="Create new…" data-ga-click="Header, create new, icon:add" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-plus">
    <path fill-rule="evenodd" d="M7.75 2a.75.75 0 01.75.75V7h4.25a.75.75 0 110 1.5H8.5v4.25a.75.75 0 11-1.5 0V8.5H2.75a.75.75 0 010-1.5H7V2.75A.75.75 0 017.75 2z"></path>
</svg> <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw" role="menu">
    
<a role="menuitem" class="dropdown-item" href="https://github.com/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a role="menuitem" class="dropdown-item" href="https://github.com/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a role="menuitem" class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a role="menuitem" class="dropdown-item" href="https://github.com/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>



  </details-menu>
</details>

    </div>

    <div class="Header-item position-relative mr-0 d-none d-md-flex">
        
  <details class="details-overlay details-reset js-feature-preview-indicator-container" data-feature-preview-indicator-src="/users/bm16ton/feature_preview/indicator_check">

  <summary class="Header-link" aria-label="View profile and more" data-ga-click="Header, show menu, icon:avatar" aria-haspopup="menu" role="button">
    <img src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/12674623_003.png" alt="@bm16ton" size="20" data-view-component="true" class="avatar-user avatar avatar-small" width="20" height="20">
      <span class="feature-preview-indicator js-feature-preview-indicator" style="top: 1px;" hidden=""></span>
    <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw" style="width: 180px" src="/users/12674623/menu" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2 color-text-primary" data-show-on-error="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
      </include-fragment>
  </details-menu>
</details>

    </div>
</header>

            
    </div>

  <div id="start-of-content" class="show-on-focus"></div>





    <div data-pjax-replace="" id="js-flash-container">


  <template class="js-flash-template">
    <div class="flash flash-full  {{ className }}">
  <div class=" px-2">
    <button class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
    </button>
    
      <div>{{ message }}</div>

  </div>
</div>
  </template>
</div>


    

  <include-fragment class="js-notification-shelf-include-fragment" data-base-src="https://github.com/notifications/beta/shelf"></include-fragment>




  <div class="application-main " data-commit-hovercards-enabled="" data-discussion-hovercards-enabled="" data-issue-and-pr-hovercards-enabled="">
        <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main id="js-repo-pjax-container" data-pjax-container="">
      

        
    






  


  <div class="color-bg-secondary pt-3 hide-full-screen mb-5">

      <div class="d-flex mb-3 px-3 px-md-4 px-lg-5">

        <div class="flex-auto min-width-0 width-fit mr-3">
            <h1 class=" d-flex flex-wrap flex-items-center break-word f3 text-normal">
    <svg class="octicon octicon-repo color-text-secondary mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
  <span class="author flex-self-stretch" itemprop="author">
    <a class="url fn" rel="author" data-hovercard-type="organization" data-hovercard-url="/orgs/libopencm3/hovercard" href="https://github.com/libopencm3">libopencm3</a>
  </span>
  <span class="mx-1 flex-self-stretch color-text-secondary">/</span>
  <strong itemprop="name" class="mr-2 flex-self-stretch">
    <a data-pjax="#js-repo-pjax-container" href="https://github.com/libopencm3/libopencm3">libopencm3</a>
  </strong>
  
</h1>


        </div>

          <ul class="pagehead-actions flex-shrink-0 d-none d-md-inline" style="padding: 2px 0;">

  <li>
        <notifications-list-subscription-form class="f5 position-relative d-flex" data-catalyst="">
      <details class="details-reset details-overlay f5 position-relative" data-target="notifications-list-subscription-form.details" data-action="toggle:notifications-list-subscription-form#detailsToggled">

      <summary class="btn btn-sm rounded-right-0" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;WATCH_BUTTON&quot;,&quot;repository_id&quot;:4065980,&quot;originating_url&quot;:&quot;https://github.com/libopencm3/libopencm3/issues/1119&quot;,&quot;user_id&quot;:12674623}}" data-hydro-click-hmac="d80706e597ad240d0f8da2acb75fb03714de1b916fc68c368500e31c1ed0812a" data-ga-click="Repository, click Watch settings, action:issues#show" aria-label="Notifications settings" role="button" aria-haspopup="menu">
          <span data-menu-button="">
            <span data-target="notifications-list-subscription-form.unwatchButtonCopy" hidden="">
              <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-eye">
    <path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path>
</svg>
              Unwatch
            </span>
            <span data-target="notifications-list-subscription-form.stopIgnoringButtonCopy" hidden="">
              <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-bell-slash">
    <path fill-rule="evenodd" d="M8 1.5c-.997 0-1.895.416-2.534 1.086A.75.75 0 014.38 1.55 5 5 0 0113 5v2.373a.75.75 0 01-1.5 0V5A3.5 3.5 0 008 1.5zM4.182 4.31L1.19 2.143a.75.75 0 10-.88 1.214L3 5.305v2.642a.25.25 0 01-.042.139L1.255 10.64A1.518 1.518 0 002.518 13h11.108l1.184.857a.75.75 0 10.88-1.214l-1.375-.996a1.196 1.196 0 00-.013-.01L4.198 4.321a.733.733 0 00-.016-.011zm7.373 7.19L4.5 6.391v1.556c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01.015.015 0 00.005.012.017.017 0 00.006.004l.007.001h9.037zM8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path>
</svg>
              Stop ignoring
            </span>
            <span data-target="notifications-list-subscription-form.watchButtonCopy">
              <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-eye">
    <path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path>
</svg>
              Watch
            </span>
          </span>
          <span class="dropdown-caret"></span>
</summary>
        <details-menu class="SelectMenu  " role="menu" data-target="notifications-list-subscription-form.menu">
          <div class="SelectMenu-modal notifications-component-menu-modal">
            <header class="SelectMenu-header">
              <h3 class="SelectMenu-title">Notifications</h3>
              <button class="SelectMenu-closeButton" type="button" aria-label="Close menu" data-action="click:notifications-list-subscription-form#closeMenu">
                <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
              </button>
            </header>

            <div class="SelectMenu-list">
              <form data-target="notifications-list-subscription-form.form" data-action="submit:notifications-list-subscription-form#submitForm" action="/notifications/subscribe" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="hruRCau9/71r8inB57s4nIcTjjWqB3L6thBELnF1vZ4/biKVqi7aCC3F1c3uh+X6a0j3BBroLfw4M0JJ7zYOaA==">

                <input type="hidden" name="repository_id" value="4065980">

                <button type="submit" name="do" value="included" class="SelectMenu-item flex-items-start" role="menuitemradio" aria-checked="true" data-targets="notifications-list-subscription-form.subscriptionButtons">
                  <span class="f5">
                    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
                  </span>
                  <div>
                    <div class="f5 text-bold">
                      Participating and @mentions
                    </div>
                    <div class="text-small color-text-secondary text-normal pb-1">
                      Only receive notifications from this repository when participating or @mentioned.
                    </div>
                  </div>
                </button>

                <button type="submit" name="do" value="subscribed" class="SelectMenu-item flex-items-start" role="menuitemradio" aria-checked="false" data-targets="notifications-list-subscription-form.subscriptionButtons">
                  <span class="f5">
                    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
                  </span>
                  <div>
                    <div class="f5 text-bold">
                      All Activity
                    </div>
                    <div class="text-small color-text-secondary text-normal pb-1">
                      Notified of all notifications on this repository.
                    </div>
                  </div>
                </button>

                <button type="submit" name="do" value="ignore" class="SelectMenu-item flex-items-start" role="menuitemradio" aria-checked="false" data-targets="notifications-list-subscription-form.subscriptionButtons">
                  <span class="f5">
                    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
                  </span>
                  <div>
                    <div class="f5 text-bold">
                      Ignore
                    </div>
                    <div class="text-small color-text-secondary text-normal pb-1">
                      Never be notified.
                    </div>
                  </div>
                </button>
</form>
              <button class="SelectMenu-item flex-items-start pr-3" type="button" role="menuitemradio" data-target="notifications-list-subscription-form.customButton" data-action="click:notifications-list-subscription-form#openCustomDialog" aria-haspopup="true" aria-checked="false">
                <span class="f5">
                  <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
                </span>
                <div>
                  <div class="d-flex flex-items-start flex-justify-between">
                    <div class="f5 text-bold">Custom</div>
                    <div class="f5 pr-1">
                      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-arrow-right">
    <path fill-rule="evenodd" d="M8.22 2.97a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06l2.97-2.97H3.75a.75.75 0 010-1.5h7.44L8.22 4.03a.75.75 0 010-1.06z"></path>
</svg>
                    </div>
                  </div>
                  <div class="text-small color-text-secondary text-normal pb-1">
                    Select events you want to be notified of in addition to participating and @mentions.
                  </div>
                </div>
              </button>
            </div>
          </div>
        </details-menu>

        <details-dialog class="notifications-component-dialog " data-target="notifications-list-subscription-form.customDialog" role="dialog" aria-modal="true" hidden="">
          <div class="SelectMenu-modal notifications-component-dialog-modal overflow-visible">
            <form data-target="notifications-list-subscription-form.customform" data-action="submit:notifications-list-subscription-form#submitCustomForm" action="/notifications/subscribe" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="2MGZBZJW4x4zqkDXd/i7R8Iurg1RWvhQPY+EbmCjSNJhFCqZk8XGq3WdvNt+xGYhLnXXPOG1p1azrIIJ/uD7JA==">

              <input type="hidden" name="repository_id" value="4065980">

              <header class="d-sm-none SelectMenu-header pb-0 border-bottom-0 px-2 px-sm-3">
                <h1 class="f3 SelectMenu-title d-inline-flex">
                  <button class="color-bg-primary border-0 px-2 py-0 m-0 Link--secondary f5" aria-label="Return to menu" type="button" data-action="click:notifications-list-subscription-form#closeCustomDialog">
                    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-arrow-left">
    <path fill-rule="evenodd" d="M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"></path>
</svg>
                  </button>
                  Custom
                </h1>
              </header>

              <header class="d-none d-sm-flex flex-items-start pt-1">
                <button class="border-0 px-2 pt-1 m-0 Link--secondary f5" style="background-color: transparent;" aria-label="Return to menu" type="button" data-action="click:notifications-list-subscription-form#closeCustomDialog">
                  <svg style="position: relative; left: 2px; top: 1px" aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-arrow-left">
    <path fill-rule="evenodd" d="M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"></path>
</svg>
                </button>

                <h1 class="pt-1 pr-4 pb-0 pl-0 f5 text-bold">
                  Custom
                </h1>
              </header>

              <fieldset>
                <legend>
                  <div class="text-small color-text-secondary pt-0 pr-3 pb-3 pl-6 pl-sm-5 border-bottom mb-3">
                    Select events you want to be notified of in addition to participating and @mentions.
                  </div>
                </legend>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input type="checkbox" name="thread_types[]" value="Issue" data-targets="notifications-list-subscription-form.threadTypeCheckboxes" data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated">
                      Issues
                    </label>

                  </div>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input type="checkbox" name="thread_types[]" value="PullRequest" data-targets="notifications-list-subscription-form.threadTypeCheckboxes" data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated">
                      Pull requests
                    </label>

                  </div>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input type="checkbox" name="thread_types[]" value="Release" data-targets="notifications-list-subscription-form.threadTypeCheckboxes" data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated">
                      Releases
                    </label>

                  </div>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input type="checkbox" name="thread_types[]" value="Discussion" data-targets="notifications-list-subscription-form.threadTypeCheckboxes" data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated">
                      Discussions
                    </label>

                      <span class="tooltipped tooltipped-nw mr-2 p-1 float-right" aria-label="Discussions are not enabled for this repo">
                        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-info color-icon-secondary">
    <path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg>
                      </span>
                  </div>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input type="checkbox" name="thread_types[]" value="SecurityAlert" data-targets="notifications-list-subscription-form.threadTypeCheckboxes" data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated">
                      Security alerts
                    </label>

                  </div>
              </fieldset>
              <div class="pt-2 pb-3 px-3 d-flex flex-justify-start flex-row-reverse">
                <button type="submit" name="do" value="custom" class="btn btn-sm btn-primary ml-2" data-target="notifications-list-subscription-form.customSubmit" disabled="disabled">Apply</button>

                <button class="btn btn-sm" type="button" data-action="click:notifications-list-subscription-form#resetForm" data-close-dialog="">Cancel</button>
              </div>
</form>          </div>
        </details-dialog>
        <div class="notifications-component-dialog-overlay"></div>
      </details>
        <a class="social-count" href="https://github.com/libopencm3/libopencm3/watchers" aria-label="153 users are watching this repository" data-target="notifications-list-subscription-form.socialCount">
          153
        </a>
    </notifications-list-subscription-form>



  </li>

  <li>
        <div class="d-block js-toggler-container js-social-container starring-container ">
    <form class="starred js-social-form" action="/libopencm3/libopencm3/unstar" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="+GrKrw84KWYCy/ydQuu/nilu3awB2OUF9A1o+p6/bI9mCXahgtPrO+HUIKmAmugO1RjngrhGHPi3Q3pKZ+MRzQ==">
      <input type="hidden" name="context" value="repository">
      <button type="submit" class="btn btn-sm btn-with-count  js-toggler-target" aria-label="Unstar this repository" title="Unstar libopencm3/libopencm3" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;UNSTAR_BUTTON&quot;,&quot;repository_id&quot;:4065980,&quot;originating_url&quot;:&quot;https://github.com/libopencm3/libopencm3/issues/1119&quot;,&quot;user_id&quot;:12674623}}" data-hydro-click-hmac="d39857e330ce95b42816a7858bc04b8cf0b98bc6f9fe4e87ba30c8c902ccbc0e" data-ga-click="Repository, click unstar button, action:issues#show; text:Unstar">        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-star-fill mr-1">
    <path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25z"></path>
</svg>
        <span data-view-component="true">
          Unstar
</span></button>        <a class="social-count js-social-count" href="https://github.com/libopencm3/libopencm3/stargazers" aria-label="2130 users starred this repository">
           2.1k
        </a>
</form>
    <form class="unstarred js-social-form" action="/libopencm3/libopencm3/star" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="18YpahIOY4GW2haqkZ/5we/xjeoG4jQLqMlqeYKhHGsVqR0/my0zresA7cx7D3srbOIZLUrveVZ0at0w2+0DsQ==">
      <input type="hidden" name="context" value="repository">
      <button type="submit" class="btn btn-sm btn-with-count  js-toggler-target" aria-label="Unstar this repository" title="Star libopencm3/libopencm3" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;STAR_BUTTON&quot;,&quot;repository_id&quot;:4065980,&quot;originating_url&quot;:&quot;https://github.com/libopencm3/libopencm3/issues/1119&quot;,&quot;user_id&quot;:12674623}}" data-hydro-click-hmac="cf0db6ac379bb61b48f097eddad7115fab92b6d7689a0d33041750be63c3b963" data-ga-click="Repository, click star button, action:issues#show; text:Star">        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-star mr-1">
    <path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"></path>
</svg>
        <span data-view-component="true">
          Star
</span></button>        <a class="social-count js-social-count" href="https://github.com/libopencm3/libopencm3/stargazers" aria-label="2130 users starred this repository">
          2.1k
        </a>
</form>  </div>

  </li>

  <li>
            <!-- '"` --><!-- </textarea></xmp> --><form class="btn-with-count" action="/libopencm3/libopencm3/fork" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="Erc73bbOVfYyT45R4uUPpltu9j9mtYCrNIWt9xeQbL7jF/EVx3JrxfItve1M9EntuFx0nz8v5SR0eg6qmqOqgg==">
              <button class="btn btn-sm btn-with-count" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FORK_BUTTON&quot;,&quot;repository_id&quot;:4065980,&quot;originating_url&quot;:&quot;https://github.com/libopencm3/libopencm3/issues/1119&quot;,&quot;user_id&quot;:12674623}}" data-hydro-click-hmac="c87c01bad7151f88c000b443c11957d27eed95ca7fd0e88256e0724c1bf6532f" data-ga-click="Repository, show fork modal, action:issues#show; text:Fork" type="submit" title="Fork your own copy of libopencm3/libopencm3 to your account" aria-label="Fork your own copy of libopencm3/libopencm3 to your account">                <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-repo-forked">
    <path fill-rule="evenodd" d="M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z"></path>
</svg>
                Fork
</button></form>
      <a href="https://github.com/libopencm3/libopencm3/network/members" class="social-count" aria-label="814 users forked this repository">
        814
      </a>
  </li>
</ul>

      </div>
        

  <nav data-pjax="#js-repo-pjax-container" aria-label="Repository" data-view-component="true" class="js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav px-3 px-md-4 px-lg-5 color-bg-secondary">

    <ul data-view-component="true" class="UnderlineNav-body list-style-none">
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/libopencm3/libopencm3" data-tab-item="i0code-tab" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments /libopencm3/libopencm3" data-hotkey="g c" data-ga-click="Repository, Navigation click, Code tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-code UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path></svg>
          <span data-content="Code">Code</span>
            <span title="Not available" data-view-component="true" class="Counter"></span>

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/libopencm3/libopencm3/issues" data-tab-item="i1issues-tab" data-selected-links="repo_issues repo_labels repo_milestones /libopencm3/libopencm3/issues" data-hotkey="g i" data-ga-click="Repository, Navigation click, Issues tab" aria-current="page" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item selected">
    
                  <svg class="octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path><path fill-rule="evenodd" d="M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"></path></svg>
          <span data-content="Issues">Issues</span>
            <span title="104" data-view-component="true" class="Counter">104</span>

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/libopencm3/libopencm3/pulls" data-tab-item="i2pull-requests-tab" data-selected-links="repo_pulls checks /libopencm3/libopencm3/pulls" data-hotkey="g p" data-ga-click="Repository, Navigation click, Pull requests tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"></path></svg>
          <span data-content="Pull requests">Pull requests</span>
            <span title="93" data-view-component="true" class="Counter">93</span>

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/libopencm3/libopencm3/actions" data-tab-item="i3actions-tab" data-selected-links="repo_actions /libopencm3/libopencm3/actions" data-hotkey="g a" data-ga-click="Repository, Navigation click, Actions tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-play UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM6.379 5.227A.25.25 0 006 5.442v5.117a.25.25 0 00.379.214l4.264-2.559a.25.25 0 000-.428L6.379 5.227z"></path></svg>
          <span data-content="Actions">Actions</span>
            <span title="Not available" data-view-component="true" class="Counter"></span>

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/libopencm3/libopencm3/projects" data-tab-item="i4projects-tab" data-selected-links="repo_projects new_repo_project repo_project /libopencm3/libopencm3/projects" data-hotkey="g b" data-ga-click="Repository, Navigation click, Projects tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-project UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
          <span data-content="Projects">Projects</span>
            <span title="0" data-view-component="true" class="Counter" hidden="hidden">0</span>

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/libopencm3/libopencm3/wiki" data-tab-item="i5wiki-tab" data-selected-links="repo_wiki /libopencm3/libopencm3/wiki" data-hotkey="g w" data-ga-click="Repository, Navigation click, Wikis tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-book UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 1.75A.75.75 0 01.75 1h4.253c1.227 0 2.317.59 3 1.501A3.744 3.744 0 0111.006 1h4.245a.75.75 0 01.75.75v10.5a.75.75 0 01-.75.75h-4.507a2.25 2.25 0 00-1.591.659l-.622.621a.75.75 0 01-1.06 0l-.622-.621A2.25 2.25 0 005.258 13H.75a.75.75 0 01-.75-.75V1.75zm8.755 3a2.25 2.25 0 012.25-2.25H14.5v9h-3.757c-.71 0-1.4.201-1.992.572l.004-7.322zm-1.504 7.324l.004-5.073-.002-2.253A2.25 2.25 0 005.003 2.5H1.5v9h3.757a3.75 3.75 0 011.994.574z"></path></svg>
          <span data-content="Wiki">Wiki</span>
            <span title="Not available" data-view-component="true" class="Counter"></span>

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/libopencm3/libopencm3/security" data-tab-item="i6security-tab" data-selected-links="security overview alerts policy token_scanning code_scanning /libopencm3/libopencm3/security" data-hotkey="g s" data-ga-click="Repository, Navigation click, Security tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.467.133a1.75 1.75 0 011.066 0l5.25 1.68A1.75 1.75 0 0115 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.7 1.7 0 01-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 011.217-1.667l5.25-1.68zm.61 1.429a.25.25 0 00-.153 0l-5.25 1.68a.25.25 0 00-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.2.2 0 00.154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.25.25 0 00-.174-.237l-5.25-1.68zM9 10.5a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.75a.75.75 0 10-1.5 0v3a.75.75 0 001.5 0v-3z"></path></svg>
          <span data-content="Security">Security</span>
            

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/libopencm3/libopencm3/pulse" data-tab-item="i7insights-tab" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /libopencm3/libopencm3/pulse" data-ga-click="Repository, Navigation click, Insights tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 1.75a.75.75 0 00-1.5 0v12.5c0 .414.336.75.75.75h14.5a.75.75 0 000-1.5H1.5V1.75zm14.28 2.53a.75.75 0 00-1.06-1.06L10 7.94 7.53 5.47a.75.75 0 00-1.06 0L3.22 8.72a.75.75 0 001.06 1.06L7 7.06l2.47 2.47a.75.75 0 001.06 0l5.25-5.25z"></path></svg>
          <span data-content="Insights">Insights</span>
            <span title="Not available" data-view-component="true" class="Counter"></span>

    
</a></li>
</ul>
      <div style="visibility:hidden;" data-view-component="true" class="UnderlineNav-actions  js-responsive-underlinenav-overflow position-absolute pr-3 pr-md-4 pr-lg-5 right-0">      <details data-view-component="true" class="details-overlay details-reset position-relative">
  <summary role="button" data-view-component="true">          <div class="UnderlineNav-item mr-0 border-0">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
            <span class="sr-only">More</span>
          </div>
</summary>
  <div data-view-component="true">          <details-menu role="menu" data-view-component="true" class="dropdown-menu dropdown-menu-sw">
  
            <ul>
                <li data-menu-item="i0code-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /libopencm3/libopencm3" href="https://github.com/libopencm3/libopencm3">
                    Code
</a>                </li>
                <li data-menu-item="i1issues-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /libopencm3/libopencm3/issues" href="https://github.com/libopencm3/libopencm3/issues">
                    Issues
</a>                </li>
                <li data-menu-item="i2pull-requests-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /libopencm3/libopencm3/pulls" href="https://github.com/libopencm3/libopencm3/pulls">
                    Pull requests
</a>                </li>
                <li data-menu-item="i3actions-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /libopencm3/libopencm3/actions" href="https://github.com/libopencm3/libopencm3/actions">
                    Actions
</a>                </li>
                <li data-menu-item="i4projects-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /libopencm3/libopencm3/projects" href="https://github.com/libopencm3/libopencm3/projects">
                    Projects
</a>                </li>
                <li data-menu-item="i5wiki-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /libopencm3/libopencm3/wiki" href="https://github.com/libopencm3/libopencm3/wiki">
                    Wiki
</a>                </li>
                <li data-menu-item="i6security-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /libopencm3/libopencm3/security" href="https://github.com/libopencm3/libopencm3/security">
                    Security
</a>                </li>
                <li data-menu-item="i7insights-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /libopencm3/libopencm3/pulse" href="https://github.com/libopencm3/libopencm3/pulse">
                    Insights
</a>                </li>
            </ul>

</details-menu></div>
</details></div>
</nav>

  </div>


<div class="container-xl clearfix new-discussion-timeline px-3 px-md-4 px-lg-5">
  <div id="repo-content-pjax-container" class="repository-content ">

    
      
    <div class="js-check-all-container" data-pjax="">
      
    
    <div id="show_issue" class="js-issues-results js-socket-channel js-updatable-content" data-channel="eyJjIjoiaXNzdWU6NTEyOTQ2NzYwOnRpbWVsaW5lIiwidCI6MTYyMzI5MDA0NX0=--b5141a11610a2bd8851da2622ce87176529f70b780ed51d97d836bd9ea31a1af">

      

  <div id="partial-discussion-header" class="gh-header mb-3 js-details-container Details js-socket-channel js-updatable-content issue" data-channel="eyJjIjoiaXNzdWU6NTEyOTQ2NzYwIiwidCI6MTYyMzI5MDA0NX0=--53bbe2a79ffbeea38d55a35979dc5be75b55db543c4e616490d0c3d3bab62119" data-url="/libopencm3/libopencm3/issues/1119/show_partial?partial=issues%2Ftitle&amp;sticky=true" data-gid="MDU6SXNzdWU1MTI5NDY3NjA=">
  <div class="gh-header-show ">
    <div class="d-flex flex-column flex-md-row">
      <div class="gh-header-actions mt-0 mt-md-2 mb-3 mb-md-0 ml-0 flex-md-order-1 flex-shrink-0 d-flex flex-items-start">


              <a href="https://github.com/libopencm3/libopencm3/issues/new/choose" class="btn btn-sm btn-primary m-0 ml-2 ml-md-2" data-hotkey="c" data-ga-click="Issues, create new issue, view:issue_show location:issue_header style:button logged_in:true" data-skip-pjax="">
                New issue
              </a>
        <div class="flex-auto text-right d-block d-md-none">
          <a href="#issue-comment-box" class="py-1">Jump to bottom</a>
        </div>
      </div>

    <h1 class="gh-header-title mb-2 lh-condensed f1 mr-0 flex-auto break-word">
      <span class="js-issue-title markdown-title" data-snek-id="issue-title">
        STM32F411CEU6 USB Device Not Working (otgfs_usb_driver maybe?)
      </span>
      <span class="f1-light color-text-tertiary">#1119</span>
    </h1>
    </div>
  </div>

  <div class="d-flex flex-items-center flex-wrap mt-0 gh-header-meta">
    <div class="flex-shrink-0 mb-2 flex-self-start flex-md-self-center">
        <span title="Status: Open" data-view-component="true" class="State State--open">
  <svg height="16" class="octicon octicon-issue-opened" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path><path fill-rule="evenodd" d="M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"></path></svg> Open
</span>
    </div>



    <div class="flex-auto min-width-0 mb-2">
        <a class="author text-bold Link--secondary" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>  opened this issue
<relative-time datetime="2019-10-27T10:17:12Z" class="no-wrap" title="Oct 27, 2019, 6:17 AM EDT">on Oct 27, 2019</relative-time>
· 34 comments

<span data-issue-and-pr-hovercards-enabled="">
  <span><span></span><span> · May be fixed by <a href="https://github.com/libopencm3/libopencm3/pull/1256" data-hydro-click="{&quot;event_type&quot;:&quot;issue_cross_references.click&quot;,&quot;payload&quot;:{&quot;reference_location&quot;:&quot;ISSUE_HEADER&quot;,&quot;user_id&quot;:12674623,&quot;issue_id&quot;:512946760,&quot;pull_request_id&quot;:501195240,&quot;originating_url&quot;:&quot;https://github.com/libopencm3/libopencm3/issues/1119&quot;}}" data-hydro-click-hmac="41654a3b54c6b997978234241dd7f446cb6a18809cc47f0c6a48758f040f6704" data-hovercard-type="pull_request" data-hovercard-url="/libopencm3/libopencm3/pull/1256/hovercard">#1256</a></span></span>
</span>

    </div>
  </div>



    <div style="visibility: hidden; display: block; height: 1px;" class="js-sticky-offset-scroll top-0 gh-header-sticky is-placeholder"></div><div class="js-sticky js-sticky-offset-scroll top-0 gh-header-sticky is-stuck" style="position: fixed; top: 0px !important; left: 345px; width: 1216px; margin-top: 0px;" data-original-top="0px">
      <div class="sticky-content">
        <div class="d-flex flex-items-center flex-justify-between mt-2">
          <div class="d-flex flex-row flex-items-center min-width-0">
            <div class="mr-2 mb-2 flex-shrink-0">
                <span title="Status: Open" data-view-component="true" class="State State--open">
  <svg height="16" class="octicon octicon-issue-opened" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path><path fill-rule="evenodd" d="M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"></path></svg> Open
</span>
            </div>



            <div class="min-width-0 mr-2 mb-2">
              <h1 class="d-flex text-bold f5">
  <a class="js-issue-title css-truncate css-truncate-target Link--primary width-fit markdown-title" href="#">STM32F411CEU6 USB Device Not Working (otgfs_usb_driver maybe?)</a>
  <span class="gh-header-number color-text-tertiary pl-1">#1119</span>
</h1>

              <div class="meta color-text-tertiary css-truncate css-truncate-target d-block width-fit">
                  <a class="author text-bold Link--secondary" data-hovercard-z-index-override="111" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>  opened this issue
<relative-time datetime="2019-10-27T10:17:12Z" class="no-wrap" title="Oct 27, 2019, 6:17 AM EDT">on Oct 27, 2019</relative-time>
· 34 comments

<span data-issue-and-pr-hovercards-enabled="">
  <span><span></span><span> · May be fixed by <a href="https://github.com/libopencm3/libopencm3/pull/1256" data-hydro-click="{&quot;event_type&quot;:&quot;issue_cross_references.click&quot;,&quot;payload&quot;:{&quot;reference_location&quot;:&quot;ISSUE_HEADER&quot;,&quot;user_id&quot;:12674623,&quot;issue_id&quot;:512946760,&quot;pull_request_id&quot;:501195240,&quot;originating_url&quot;:&quot;https://github.com/libopencm3/libopencm3/issues/1119&quot;}}" data-hydro-click-hmac="41654a3b54c6b997978234241dd7f446cb6a18809cc47f0c6a48758f040f6704" data-hovercard-type="pull_request" data-hovercard-url="/libopencm3/libopencm3/pull/1256/hovercard">#1256</a></span></span>
</span>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="gh-header-shadow color-shadow-small js-notification-shelf-offset-top" data-original-top="auto" style="top: 0px !important;"></div>
</div>


        

      <h2 class="sr-only">Comments</h2>
      <div id="discussion_bucket">
        <div data-view-component="true" class="gutter-condensed gutter-lg flex-column flex-md-row d-flex">

  <div data-view-component="true" class="flex-shrink-0 col-12 col-md-9 mb-4 mb-md-0">            <div class="js-quote-selection-container" data-quote-markdown=".js-comment-body" data-discussion-hovercards-enabled="" data-issue-and-pr-hovercards-enabled="" data-team-hovercards-enabled="">

              <div class="js-discussion js-socket-channel ml-0 pl-0 ml-md-6 pl-md-3" data-channel="eyJjIjoibWFya2VkLWFzLXJlYWQ6MTI2NzQ2MjMiLCJ0IjoxNjIzMjkwMDQ1fQ==--22a2bdbf835c6517fe81d77963d343a7af2ba5b5a4114c078f73fd65f52fd05d" data-channel-target="MDU6SXNzdWU1MTI5NDY3NjA=">
                
<div class="TimelineItem pt-0 js-comment-container js-socket-channel js-updatable-content" data-gid="MDU6SXNzdWU1MTI5NDY3NjA=" data-url="/_render_node/MDU6SXNzdWU1MTI5NDY3NjA=/issues/body?variables%5BdeferredCommentActions%5D=true" data-channel="eyJjIjoiaXNzdWU6NTEyOTQ2NzYwIiwidCI6MTYyMzI5MDA0NX0=--53bbe2a79ffbeea38d55a35979dc5be75b55db543c4e616490d0c3d3bab62119">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>

  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issue-512946760">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="505f7fef2e78d76a8f7f95c10619fcbf3cc8013c9e619ccbf4ac957bf29cdd11" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="zqsLwVfV6Wf7g+uyyW4ITZgsGllgXk9qu0uynkr6mSm6HO0ixosrcNK1OaRosG+DLgpNIcJISli1jJpshzUJtA==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="lQ9Ke6ucrKTAC+HQdLsUvUeAttdkvsWi48bENcHfOoS1jFp80RY8HYo3puGJzuPNoW2Z0QowZC/o9pMqt9xBAQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDU6SXNzdWU1MTI5NDY3NjA=">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issues/1119/actions_menu?href=%23issue-512946760&amp;gid=MDU6SXNzdWU1MTI5NDY3NjA%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issue-512946760" id="issue-512946760-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-10-27T10:17:12Z" class="no-wrap" title="Oct 27, 2019, 6:17 AM EDT">on Oct 27, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>I'm trying to get some stm32f4 exapmples working on this <a href="https://www.aliexpress.com/item/4000103610226.html?spm=a2g0s.9042311.0.0.1fbc4c4dDiS2fQ" rel="nofollow">STM32F411CEU6 board</a>, but no luck.</p>
<p>I'm using the example code for <a href="https://github.com/libopencm3/libopencm3-examples/tree/master/examples/stm32/f4/stm32f4-discovery/usb_cdcacm">/stm32/f4/stm32f4-discovery/</a>. Since STM32F411CEU6 can only go up to 100MHz and the crystal on the board is 25MHz, I just changed the clock setup to:</p>
<pre><code>rcc_clock_setup_pll(&amp;rcc_hse_25mhz_3v3[RCC_CLOCK_3V3_84MHZ]);
</code></pre>
<p>I inspected all the code, and all seem legit for STM32F411CEU6 (the 
IO ports seems correct), so I expected for it work. However, the Linux 
kernel won't log a single line when the board is connected.</p>
<p>Potential problems I believe I ruled out:</p>
<ul>
<li><strong>Hardware</strong>: The board came with some demo firmware, 
with USB Serial builtin, that worked. Its ROM bootloader works fine for 
DFU upload. I also tested with other boards.</li>
<li><strong>Clock</strong>:  The datasheet (RM0383) tells: <em>The USB 
clock is used for driving the 48 MHz domain at fullspeed (12 Mbit/s) and
 must be enabled prior to configuring the OTG FS core.</em>. Given what 
I've seen in all other stm32/f4/ USB examples, this seems legit (despite
 going for 84MHz and not the maximum 100MHz).</li>
<li><strong>Other USB Device Code</strong>: I tested several other USB example codes from stm32/f4/, but same result.</li>
</ul>
<p>I'm guessing the issue is with <code>otgfs_usb_driver</code>. It seems it is <a href="https://github.com/libopencm3/libopencm3/blob/209dea96e7b45a1266b070bf1157a4e4a7a49800/include/libopencm3/usb/usbd.h#L59">aliased</a> for <code>stm32f107_usb_driver</code>, so maybe some stm32f1 vs stm32f4 difference there?</p>
<p>Thanks in advance for any light here.</p>
      </td>
    </tr>
      <tr class="d-block pl-3 pr-3 pb-3 js-comment-body-error" hidden="">
        <td class="d-block user-select-contain">
          <div class="flash flash-warn" role="alert">
            <p class="mb-1">
              <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-info">
    <path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg>
              The text was updated successfully, but these errors were encountered:
            </p>
              <ol class="mb-0 pl-4 ml-4"></ol>
          </div>
        </td>
      </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="+hblh4ECARo4VEJ0M/6enFYR68p0JV+/kvs3Fuf65hHalfWA+4iRo3JoBUXOi2nssPzEzBqr/jKZy2AJkfmdlA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDU6SXNzdWU1MTI5NDY3NjA=">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>

</div>


                
<div>

  
  <div id="js-timeline-progressive-loader" data-timeline-item-src="libopencm3/libopencm3/timeline?id=MDU6SXNzdWU1MTI5NDY3NjA%3D&amp;variables%5Bafter%5D=Y3Vyc29yOnYyOpPPAAABb22JW2AAqTU3MDcxODExOA%3D%3D&amp;variables%5Bbefore%5D=Y3Vyc29yOnYyOpPPAAABb3KXJlAAqTU3MDgyMzg0NQ%3D%3D&amp;variables%5Bfirst%5D=60"></div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0NjY4NzU2Nw==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0NjY4NzU2Nw==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU0NjY4NzU2Nw==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp"><img class="avatar rounded-1 avatar-user" alt="@karlp" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/127907_002.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-546687567">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="74e933e9f51402ea10fba7883018e47f3fd589470f08b77a43a0fd4967279bf1" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="NAfqW59MXtSQNFoV3E5RazJ6teMKRzUpxmBEQaMKps5AsAy4DhKcw7kCiAN9kDalhFzim6hRMBvIp2yzbsU2Uw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="GQj6J+dFyujATeKtBhbnIoHNHKOq/vI1B6QK3dxtck45i+ognc9aUYpxpZz7YxBSZyAzpcRwU7gMlF3Cqm4Jyw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0NjY4NzU2Nw==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/546687567/comment_actions_menu?href=%23issuecomment-546687567&amp;gid=MDEyOklzc3VlQ29tbWVudDU0NjY4NzU2Nw%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the libopencm3 lowlevel Open-Source library for ARM cortex MCUs organization.">
      Member
    </span>


  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp"><img class="avatar rounded-1 avatar-user" alt="@karlp" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/127907.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp">karlp</a>
  

    </strong>


    commented


      <a href="#issuecomment-546687567" id="issuecomment-546687567-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-10-27T11:59:40Z" class="no-wrap" title="Oct 27, 2019, 7:59 AM EDT">on Oct 27, 2019</relative-time></a>


    <span class="js-comment-edit-history">
        
  <span class="d-inline-block color-text-tertiary">•</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-text-secondary js-notice" aria-haspopup="menu" role="button">
      <div class="position-relative">
        <span>
            edited
        </span>
        <svg class="octicon octicon-triangle-down v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"></path></svg>
      </div>
    </summary>
    <details-menu class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu" style="max-width: 352px; z-index: 99;" src="/_render_node/MDEyOklzc3VlQ29tbWVudDU0NjY4NzU2Nw==/comments/comment_edit_history_log" preload="" role="menu">
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading..."><svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg></include-fragment>
    </details-menu>
  </details>

    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Probably duplicate of <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="460763958" data-permission-text="Title is private" data-url="https://github.com/libopencm3/libopencm3/issues/1073" data-hovercard-type="issue" data-hovercard-url="/libopencm3/libopencm3/issues/1073/hovercard" href="https://github.com/libopencm3/libopencm3/issues/1073">#1073</a> (please follow that and reply with the feedback still waiting there)</p>
<p>Ignore the f107 name, that's a red herring.  the "f107" just means "dwc_otg_fs"</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="N4WqOdNjhqiW1cD/lTkePxS83qBW0r1DJGBDz3B0clsXBro+qekWEdzph85oTOlP8lHxpjhcHM4vUBTQBncJ3g==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0NjY4NzU2Nw==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0NjY5Mzk3NA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0NjY5Mzk3NA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU0NjY5Mzk3NA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-546693974">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="078a365b8414b0bd8d7f86abc40bdd288fd17a4dc5427c160531c2a45c32d341" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="vcBhZwuy767b7550Smn2GaOPl18s/SPwPDH8FY88Cr7Jd4eEmuwtufLZTGLrt5HXFanAJ47rJsIy9tTnQvOaIw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="mHCWEOmhh2P7RrnhZRdTw8xNt5m6gYGlJGDdzf3Jys2484YXkysX2rF6/tCYYqSzKqCYn9QPICgvUIrSi8qxSA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0NjY5Mzk3NA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/546693974/comment_actions_menu?href=%23issuecomment-546693974&amp;gid=MDEyOklzc3VlQ29tbWVudDU0NjY5Mzk3NA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-546693974" id="issuecomment-546693974-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-10-27T13:19:31Z" class="no-wrap" title="Oct 27, 2019, 9:19 AM EDT">on Oct 27, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>I think this is something different than <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="460763958" data-permission-text="Title is private" data-url="https://github.com/libopencm3/libopencm3/issues/1073" data-hovercard-type="issue" data-hovercard-url="/libopencm3/libopencm3/issues/1073/hovercard" href="https://github.com/libopencm3/libopencm3/issues/1073">#1073</a> : there's no kernel message on enumeration failure whatsoever. dmesg is simply quiet.</p>
<p>Just in case, I also tested reverting <a class="commit-link" data-hovercard-type="commit" data-hovercard-url="https://github.com/libopencm3/libopencm3/commit/26ab78a710b4cb7abcace769768c4781332b17ba/hovercard" href="https://github.com/libopencm3/libopencm3/commit/26ab78a710b4cb7abcace769768c4781332b17ba"><tt>26ab78a</tt></a>, but same results.</p>
<p>Anything I can do to help debug this? Worst case, I can use my <a href="https://www.dreamsourcelab.com/product/dslogic-plus/" rel="nofollow">logic analyzer</a> and share the captured data.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="fJyo3qObRTHvzR7VKaRM+9ItSbH9Sjoq9ZzW4MGtoRJcH7jZ2RHViKXxWeTU0buLNMBmt5PEm6f+rIH/t67alw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0NjY5Mzk3NA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0NjY5NzIxOA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0NjY5NzIxOA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU0NjY5NzIxOA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-546697218">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="a3a5acbb4783c2e18895fcfd934c213402ba593c6957fe278aea9225f434b6f0" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="yPzD5WutnWOjwQ+f9jJtxcoeg/cAbm8AEoTulJydYAq8SyUG+vNfdIr33YlX7AoLfDjUj6J4ajIcQ8ZmUVLwlw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="NyRhIpXzuZJvDxK3Sw7MD+lW9DlgVFHtML5xgsgFVVYXp3El73kpKyUzVYa2ezt/D7vbPw7a8GA7jiadvgYu0w==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0NjY5NzIxOA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/546697218/comment_actions_menu?href=%23issuecomment-546697218&amp;gid=MDEyOklzc3VlQ29tbWVudDU0NjY5NzIxOA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-546697218" id="issuecomment-546697218-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-10-27T13:58:42Z" class="no-wrap" title="Oct 27, 2019, 9:58 AM EDT">on Oct 27, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>I tried the logic analyzer: D+ and D- are idle after 
powering the board on. Packet capture seems fine, as I can successfully 
capture and decode system memory DFU bootloader packets with the same 
setup. It seems whatever triggers USB communication to start, is not 
triggering.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="wz3M/GIAoMJ7tEfqf4BgMWiQt5gxY+44sIRTFQSLemTjvtz7GIowezGIANuC9ZdBjn2Ynl/tT7W7tAQKcogB4Q==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0NjY5NzIxOA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0NzY1NDg1MA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0NzY1NDg1MA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU0NzY1NDg1MA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-547654850">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="ccf78a193f09ea2ec4f21f17ec74ee7adf1e0e328c608cbaf829ff9150c62b22" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="EJQZD+5JKL/WHkAtt3oLuPDHf+J53PcjGJSRI+/SrIhkI//sfxfqqP8okjsWpGx2RuEomtvK8hEWU7nRIh08FQ==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="drGoov9ew2Lur/nz1ejUqtLi89EITA1xLzeeLy6OC5tWMrilhdRT26STvsIonSPaNA/c12bCrPwkB8kwWI1wHg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0NzY1NDg1MA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/547654850/comment_actions_menu?href=%23issuecomment-547654850&amp;gid=MDEyOklzc3VlQ29tbWVudDU0NzY1NDg1MA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-547654850" id="issuecomment-547654850-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-10-29T22:20:20Z" class="no-wrap" title="Oct 29, 2019, 6:20 PM EDT">on Oct 29, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp">@karlp</a>
 any suggestions where to go from here? I'm suspecting the USB clock is 
not properly setup for my case. From what I've seen at the datasheet, 
clock setup is quite complex, I'd rather avoid digging through tens of 
pages of datasheet if there's something simpler you think I should check
 first. Thanks!</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="5HVtrOdIONJ4xqZOZFvRadL3TzQd1CuxAxyoO20gWTfE9n2rncKoazL64X+ZLiYZNBpgMnNaijwILP8kGyMisg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0NzY1NDg1MA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0NzY4MDkzMQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0NzY4MDkzMQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU0NzY4MDkzMQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp"><img class="avatar rounded-1 avatar-user" alt="@karlp" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/127907_002.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-547680931">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="b1de5c77531ee506afb24c99f90d442289da1205bfa3541c31a95657f4d5aa23" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="MBGhp4TK7SCbysrsGjt6GaH3i6ol88GWA+aJe0JyzQZEpkdEFZQvN7L8GPq75R3XF9Hc0oflxKQNIaGJj71dmw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="eEubMcW6zg8y/E4VCe3lbvPaiR7DjesC3jYM2p4HW1RYyIs2vzBetnjACST0mBIeFTemGK0DSo/VBlvF6AQg0Q==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0NzY4MDkzMQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/547680931/comment_actions_menu?href=%23issuecomment-547680931&amp;gid=MDEyOklzc3VlQ29tbWVudDU0NzY4MDkzMQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the libopencm3 lowlevel Open-Source library for ARM cortex MCUs organization.">
      Member
    </span>


  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp"><img class="avatar rounded-1 avatar-user" alt="@karlp" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/127907.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp">karlp</a>
  

    </strong>


    commented


      <a href="#issuecomment-547680931" id="issuecomment-547680931-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-10-30T00:00:28Z" class="no-wrap" title="Oct 29, 2019, 8:00 PM EDT">on Oct 29, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>You're currently in the best position to test it :)  I 
don't have any f411 (or f446) hardwar.  If you're not even getting 
enumeration though, your problems should be much simpler.  You <em>must</em> check the clocks, to make sure that you are indeed providing the correct 48MHz clock to the usb periph, you <em>must</em> check that any peripherals required for automatically doing the d+ pullup are enabled, if f411 needs anything special.  I've <em>very</em> briefly skimmed the clock structure, and the pllq of 7 <em>seems</em> correct, but you'll need to review this yourself.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="coOedhDt09Pd0A8FsrIDmeubu/x3+TUxdf3qF+PJOvJSAI5xamdDapfsSDRPx/TpDXaU+hl3lLx+zb0IlcpBdw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0NzY4MDkzMQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0NzY4MTY3NQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0NzY4MTY3NQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU0NzY4MTY3NQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-547681675">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="ef22df9a508dd0d76fc1253c0f79b7b3f977158cecb9f332328f4f0f8f82af58" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="9TZGcXeDrpmmegHlbt2NXtWWQKo26l+StrYehmoUH0GBgaCS5t1sjo9M0/PPA+qQY7AX0pT8WqC4cTZ0p9uP3A==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="pAr76MK5o/oMQrqCMc8HmW+uTrtt2s8A1XVEmpKsEG6EievvuDMzQ0Z+/bPMuvDpiUNhvQNUbo3eRROF5K9r6w==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0NzY4MTY3NQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/547681675/comment_actions_menu?href=%23issuecomment-547681675&amp;gid=MDEyOklzc3VlQ29tbWVudDU0NzY4MTY3NQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-547681675" id="issuecomment-547681675-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-10-30T00:03:32Z" class="no-wrap" title="Oct 29, 2019, 8:03 PM EDT">on Oct 29, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Thanks a million, o7, will do!</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="7L9/CVjGO6sHonyda7c5WxcYDyplnMPVAWBeUt4YPxbMPG8OIkyrEk2eO6yWws4r8fUgLAsSYlgKUAlNqBtEkw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0NzY4MTY3NQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0ODMzNjI3NQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0ODMzNjI3NQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU0ODMzNjI3NQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-548336275">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="f1ba5db6abb354023b87ee3b2e4ac35f58bd2be80c5e02ca16ddea8a95fdfa9f" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="4zj+rzZk2IDjRMHCwQ4i2b9hBNA5GUWqS84o1MvZEKWXjxhMpzoal8pyE9Rg0EUXCUdTqJsPQJhFCQAmBhaAOA==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="5CNbJxCz0J9aE2urSugKWLlnrO1CQvyiYziSr58/mDzEoEsgajlAJhAvLJq3nf0oX4qD6yzMXS9oCMWw6TzjuQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0ODMzNjI3NQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/548336275/comment_actions_menu?href=%23issuecomment-548336275&amp;gid=MDEyOklzc3VlQ29tbWVudDU0ODMzNjI3NQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-548336275" id="issuecomment-548336275-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-10-31T11:55:58Z" class="no-wrap" title="Oct 31, 2019, 7:55 AM EDT">on Oct 31, 2019</relative-time></a>


    <span class="js-comment-edit-history">
        
  <span class="d-inline-block color-text-tertiary">•</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-text-secondary js-notice" aria-haspopup="menu" role="button">
      <div class="position-relative">
        <span>
            edited
        </span>
        <svg class="octicon octicon-triangle-down v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"></path></svg>
      </div>
    </summary>
    <details-menu class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu" style="max-width: 352px; z-index: 99;" src="/_render_node/MDEyOklzc3VlQ29tbWVudDU0ODMzNjI3NQ==/comments/comment_edit_history_log" preload="" role="menu">
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading..."><svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg></include-fragment>
    </details-menu>
  </details>

    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <blockquote>
<p>You must check the clocks, to make sure that you are indeed providing the correct 48MHz clock to the usb periph</p>
</blockquote>
<p>I read through the datasheet and did the calculations: to the best of
 my knowledge this correctly sets up the USB OTG FS clock to 48MHz:</p>
<div class="highlight highlight-source-c"><pre><span class="pl-en">rcc_clock_setup_pll</span>(&amp;rcc_hse_25mhz_3v3[RCC_CLOCK_3V3_84MHZ]);</pre></div>
<blockquote>
<p>you must check that any peripherals required for automatically doing the d+ pullup are enabled, if f411 needs anything special.</p>
</blockquote>
<p>The Discovery boards used in the examples have a 1.5kOhm pull up on D+:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/1386232/67944024-5a1c8300-fbd3-11e9-9ee2-16561043a611.png"><img src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/67944024-5a1c8300-fbd3-11e9-9ee2-16561043a611.png" alt="image" style="max-width:100%;"></a></p>
<p>And supposedly work with this setup:</p>
<div class="highlight highlight-source-c"><pre>	<span class="pl-en">rcc_periph_clock_enable</span>(RCC_GPIOA);
	<span class="pl-en">rcc_periph_clock_enable</span>(RCC_OTGFS);

	<span class="pl-en">gpio_mode_setup</span>(GPIOA, GPIO_MODE_AF, GPIO_PUPD_NONE, GPIO11 | GPIO12);
	<span class="pl-en">gpio_set_af</span>(GPIOA, GPIO_AF10, GPIO11 | GPIO12);</pre></div>
<p>The board I'm using apparently have no D+ pull up:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/1386232/67943870-f003de00-fbd2-11e9-80aa-221d688c4842.png"><img src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/67943870-f003de00-fbd2-11e9-80aa-221d688c4842.png" alt="image" style="max-width:100%;"></a></p>
<p>So I figured changing the setup to:</p>
<div class="highlight highlight-source-c"><pre>	<span class="pl-en">rcc_periph_clock_enable</span>(RCC_GPIOA);
	<span class="pl-en">rcc_periph_clock_enable</span>(RCC_OTGFS);

	<span class="pl-en">gpio_mode_setup</span>(GPIOA, GPIO_MODE_AF, GPIO_PUPD_NONE, GPIO11);
	<span class="pl-en">gpio_mode_setup</span>(GPIOA, GPIO_MODE_AF, GPIO_PUPD_PULLUP, GPIO12);
	<span class="pl-en">gpio_set_af</span>(GPIOA, GPIO_AF10, GPIO11 | GPIO12);</pre></div>
<p>Would work, but no luck: idle D+/D- lines, just the same. I had a look ad the USB OTG FS part of the <a href="https://www.st.com/content/ccc/resource/technical/document/reference_manual/9b/53/39/1c/f7/01/4a/79/DM00119316.pdf/files/DM00119316.pdf/jcr:content/translations/en.DM00119316.pdf" rel="nofollow">datasheet</a>, it mentions about automatic hw pull up several times, not sure this software pull up would be needed.</p>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp">@karlp</a> thanks for the previous pointers, do you have any further suggestions here?</p>
<p>PS: datasheet tells pullup can't be used for AF for the pins. I also tried this with no luck:</p>
<div class="highlight highlight-source-c"><pre>	<span class="pl-en">gpio_mode_setup</span>(GPIOA, GPIO_MODE_AF, GPIO_PUPD_NONE, GPIO11 | GPIO12);
	<span class="pl-en">gpio_set_output_options</span>(GPIOA, GPIO_OTYPE_PP, GPIO_OSPEED_100MHZ, GPIO11 | GPIO12);
	<span class="pl-en">gpio_set_af</span>(GPIOA, GPIO_AF10, GPIO11 | GPIO12);</pre></div>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="fHKkxH9W2z/dUlmzXXQN5f3/xzDZptSEArtCinjzK7xc8bTDBdxLhpduHoKgAfqVGxLoNrcodQkJixWVDvBQOQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0ODMzNjI3NQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0ODU5MTQ0Nw==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0ODU5MTQ0Nw==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU0ODU5MTQ0Nw==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-548591447">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="80e1f0902672fdabb62ac5b6dab065e6bd5e08fa00931aea23970c0b37d7bb4c" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="KMfE864TXZW8vBHoilrAzyNnat89/1wmJGmxWXvxOIVccCIQP02fgpWKw/4rhKcBlUE9p5/pWRQqrpmrtj6oGA==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="3aKNDjAoXGj4n/qOlLpuQN1Il7wrd4QPahc763gCKCT9IZ0JSqLM0bKjvb9pz5kwO6W4ukX5JYJhJ2z0DgFToQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0ODU5MTQ0Nw==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/548591447/comment_actions_menu?href=%23issuecomment-548591447&amp;gid=MDEyOklzc3VlQ29tbWVudDU0ODU5MTQ0Nw%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-548591447" id="issuecomment-548591447-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-10-31T22:18:40Z" class="no-wrap" title="Oct 31, 2019, 6:18 PM EDT">on Oct 31, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>More investigation. The <code>otgfs_usb_driver</code> USB driver (which currently points to <code>stm32f107_usb_driver</code>) have <a href="https://github.com/libopencm3/libopencm3/blob/564e485989fb8ba52c03a7f088cd59de41fe457e/lib/usb/usb_f107.c#L54"><code>stm32f107_usbd_init</code></a> to handle its initialization sequence. It seems to do a different core initialization sequence that what the <a href="https://www.st.com/content/ccc/resource/technical/document/reference_manual/9b/53/39/1c/f7/01/4a/79/DM00119316.pdf/files/DM00119316.pdf/jcr:content/translations/en.DM00119316.pdf" rel="nofollow">datasheet tells</a>:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/1386232/67989609-47ce3380-fc2b-11e9-928e-e6587497e371.png"><img src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/67989609-47ce3380-fc2b-11e9-928e-e6587497e371.png" alt="image" style="max-width:100%;"></a><br>
(there's also device initialization at device initialization at 22.17.3)</p>
<p>I'm suspecting that <code>stm32f107_usbd_init</code> implementation maybe the root cause for USB not to be working. I also checked other <a href="https://www.st.com/content/ccc/resource/technical/document/reference_manual/3d/6d/5a/66/b4/99/40/d4/DM00031020.pdf/files/DM00031020.pdf/jcr:content/translations/en.DM00031020.pdf" rel="nofollow">stm32f4* datasheet</a>, which also describe the same different initialization process.</p>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp">@karlp</a>  you mentioned that <em>"f107" just means "dwc_otg_fs"</em>,
 what's the story there? Are we missing an USB driver for STM32F411CEU6 
or am I wrong here? If we're missing, I can cut a PR for that.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="1SHjq4Bsb3rl3OWzlYzz5IvPnwQlPSizzvMxPNcmWDD1ovOs+ub/w6/gooJo+QSUbSKwAkuziT7Fw2YjoSUjtQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0ODU5MTQ0Nw==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0ODYwNTg5NQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0ODYwNTg5NQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU0ODYwNTg5NQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp"><img class="avatar rounded-1 avatar-user" alt="@karlp" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/127907_002.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-548605895">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="97cf8d8ccda361245e722ebd6023a54882d5a198519683908793c42901ac078a" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="Un4r5sKI+kInYnfLjxFQsFEBPT+qbLCS42RgDYg5fnUmyc0FU9Y4VQ5Upd0uzzd+5ydqRwh6taDto0j/Rfbu6A==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="hWb54fHqIR6LRL7UNGgxBFTSmEdGSdE9FgcNWblAC9ul5enmi2Cxp8F4+eXJHcZ0sj+3QSjHcLAdN1pGz0NwXg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0ODYwNTg5NQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/548605895/comment_actions_menu?href=%23issuecomment-548605895&amp;gid=MDEyOklzc3VlQ29tbWVudDU0ODYwNTg5NQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the libopencm3 lowlevel Open-Source library for ARM cortex MCUs organization.">
      Member
    </span>


  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp"><img class="avatar rounded-1 avatar-user" alt="@karlp" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/127907.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp">karlp</a>
  

    </strong>


    commented


      <a href="#issuecomment-548605895" id="issuecomment-548605895-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-10-31T23:17:38Z" class="no-wrap" title="Oct 31, 2019, 7:17 PM EDT">on Oct 31, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>f107 is the dwc_otg (this is the same usb core used on <em>many</em>
 different platforms, it's a synopsis designware core)  it's used and 
tested on other f4s already and has been for some time.  Obviously 
there's <em>something</em> that's not quite right, but these are all <em>meant</em>
 to be code compatible.  By all means submit a fix if you can identify 
one, but it's by fixing the "f107" driver, not by making a new one.  
There's tests in the tests/gadget-zero directory that you can use for 
regression testing.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="9jXbgEvVTiqxDb5PZJkTqppl3YSlkJmI4KIaLUmYtkTWtsuHMV/ek/sx+X6Z7OTafIjygsseOAXrkk0yP5vNwQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0ODYwNTg5NQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0ODYzMzQxOA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0ODYzMzQxOA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU0ODYzMzQxOA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-548633418">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="9d313d564816f638c097941c974bbe9321fd772358c69a9d912e7ceb01533a74" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="QHG0duP3b+LjqmVJzvW+b9oxfBgwT3juZN3kvE0Jzeg0xlKVcqmt9cqct19vK9mhbBcrYJJZfdxqGsxOgMZddQ==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="VaQo3QwO0pd7ijJImeUlPZhRLUmwypO3HLh1WxO3wkh1JzjadoRCLjG2dXlkkNJNfrwCT95EMjoXiCJEZbS5zQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0ODYzMzQxOA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/548633418/comment_actions_menu?href=%23issuecomment-548633418&amp;gid=MDEyOklzc3VlQ29tbWVudDU0ODYzMzQxOA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-548633418" id="issuecomment-548633418-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-11-01T01:41:52Z" class="no-wrap" title="Oct 31, 2019, 9:41 PM EDT">on Oct 31, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>I just confirmed this f107 driver is broken for STM32F411CEU6. I changed <code>stm32f107_usbd_init</code> to initialize things like this:</p>
<div class="highlight highlight-source-c"><pre>	OTG_FS_GAHBCFG |= OTG_GAHBCFG_GINT;
	OTG_FS_GUSBCFG |= OTG_GUSBCFG_FDMOD | OTG_GUSBCFG_HNPCAP | OTG_GUSBCFG_SRPCAP | OTG_GUSBCFG_TRDT_MASK;
	OTG_FS_GINTMSK |= OTG_GINTSTS_OTGINT | OTG_GINTSTS_MMIS;
	OTG_FS_DCFG |= OTG_DCFG_DSPD;
	OTG_FS_GINTMSK |= OTG_GINTSTS_USBRST | OTG_GINTMSK_ENUMDNEM | OTG_GINTSTS_ESUSP | OTG_GINTSTS_USBSUSP | OTG_GINTSTS_SOF;
	OTG_FS_GCCFG |= OTG_GCCFG_NOVBUSSENS | OTG_GCCFG_PWRDWN;</pre></div>
<p>and it works:</p>
<pre><code>[46617.387684] usb 4-2: new full-speed USB device number 24 using ohci-pci
[46617.589974] usb 4-2: New USB device found, idVendor=0483, idProduct=5740, bcdDevice= 2.00
[46617.589981] usb 4-2: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[46617.589985] usb 4-2: Product: CDC-ACM Demo
[46617.589989] usb 4-2: Manufacturer: Black Sphere Technologies
[46617.589992] usb 4-2: SerialNumber: DEMO
[46617.594458] cdc_acm 4-2:1.0: ttyACM0: USB ACM device
</code></pre>
<p>It is not quite there yet though. After <code>dfu-util</code> finishes programming and the device resets, the kernel can't talk to it:</p>
<pre><code>[46585.370773] usb 4-2: new full-speed USB device number 23 using ohci-pci
[46600.787216] usb 4-2: device descriptor read/64, error -110
</code></pre>
<p>but it works after pressing the reset button or doing a power cycle.</p>
<p>After digging through all the register settings, I found some interesting things:</p>
<ul>
<li>OTG_GUSBCFG_FDMOD is forcing it in device mode. Without it, ideally,
 we should read the CMOD bit at OTG_FS_GINTSTS to confirm we're in 
device mode.</li>
<li>OTG_FS_GUSBCFG / TOCAL: this calibration seems to be device dependent and may be required.</li>
<li>OTG_FS_GUSBCFG / TRDT: It is dependent on the AHB frequency by 
following a table. I have it configured for 14.2-15MHz 
(OTG_GUSBCFG_TRDT_MASK), but it should be for 32MHz+, as my AHB 
frequency is 84MHz, but surprisingly it works.</li>
<li>OTG_FS_GINTSTS: it should be cleared prior to unmasking interrupts.</li>
<li>OTG_FS_DCFG / OTG_DCFG_NZLSOHSK: Datasheet says to configure, it seems that the default works... not sure about it.</li>
<li>OTG_FS_GCCFG / OTG_GCCFG_VBUSBSEN: I had to use OTG_GCCFG_NOVBUSSENS
 instead for it to work with my board (likely due to the missing pull 
up).</li>
<li>OTG_FS_GCCFG / OTG_GCCFG_PWRDWN: datasheet does not mention, but it is actually needed.</li>
</ul>
<p>All that said, I have my doubts about fixing this by patching the "f107" driver:</p>
<p>1 - There are configurations that are board specific, like OTG_GCCFG_VBUSBSEN / OTG_GCCFG_NOVBUSSENS.<br>
2 - Calibration is hardware specific, eg TOCAL.<br>
3 - Given that the driver failed for my device, I wonder how many 
different uCs exist that it "should work" but does not. I expect the 
variety to be quite wide there, impossible to test / go through all 
datasheets. Perhaps having some pre-processor directives with a white 
list of devices know to work would help.</p>
<p>I think that 1 and 2 are enough to make <code>_usbd_driver</code> public, and allow people to customize stuff if needed, I'd be happy do to a PR for that.</p>
<p>Having the "f107" driver fixed is another issue. I'm learning as I go
 here, but it seems that there are way to many ifs needed in the code to
 make it work. I managed to get to 6 lines but <code>stm32f107_usbd_init</code> is already quite bigger than that. Not sure I can help much here.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="uaBgBO9mvfQPZcbBSR5ctFlkZtMJFYVhkfgKWvsgpNOZI3ADlewtTUVZgfC0a6vEv4lJ1WebJOyayF1FjSPfVg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0ODYzMzQxOA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0OTA0MTk0Mg==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0OTA0MTk0Mg==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU0OTA0MTk0Mg==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-549041942">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="8ae258651750dc780c43f7fa8379fc44939ba9d1cb43ff580675132cde59597b" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="T7yx1iY/G9kiQkRvbFVRD3wa5cYUp+8t40/arZJnz8U7C1c1t2HZzgt0lnnNizbByjyyvrax6h/tiPJfX6hfWA==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="hCRKHXJfmeYvaAkYUXL1LcAuxZSxAtgZjFJaxMAP0/Wkp1oaCNUJX2VUTimsBwJdJsPqkt+MeZSHYg3btgyocA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0OTA0MTk0Mg==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/549041942/comment_actions_menu?href=%23issuecomment-549041942&amp;gid=MDEyOklzc3VlQ29tbWVudDU0OTA0MTk0Mg%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-549041942" id="issuecomment-549041942-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-11-02T13:04:53Z" class="no-wrap" title="Nov 2, 2019, 9:04 AM EDT">on Nov 2, 2019</relative-time></a>


    <span class="js-comment-edit-history">
        
  <span class="d-inline-block color-text-tertiary">•</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-text-secondary js-notice" aria-haspopup="menu" role="button">
      <div class="position-relative">
        <span>
            edited
        </span>
        <svg class="octicon octicon-triangle-down v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"></path></svg>
      </div>
    </summary>
    <details-menu class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu" style="max-width: 352px; z-index: 99;" src="/_render_node/MDEyOklzc3VlQ29tbWVudDU0OTA0MTk0Mg==/comments/comment_edit_history_log" preload="" role="menu">
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading..."><svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg></include-fragment>
    </details-menu>
  </details>

    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p><em>DFU bootloader jumping to application code &amp; USB broken issue</em>: Not directly related to this issue, sharing here for those interested only.</p>
<p>Problem: we start the DFU bootloader (eg: reset pin + BOOT0) and program it with:</p>
<pre><code>dfu-util --alt 0 --device 0483:df11 --dfuse-address 0x08000000:leave --download firmware.bin 
</code></pre>
<p>The "leave" command makes the code jump to what was just flashed.  <a href="https://www.st.com/content/ccc/resource/technical/document/application_note/6a/17/92/02/58/98/45/0c/CD00264379.pdf/files/CD00264379.pdf/jcr:content/translations/en.CD00264379.pdf" rel="nofollow">AN3156 at 5.5</a> tells to:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/1386232/68071231-76a1f200-fd70-11e9-98a0-574871583a81.png"><img src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/68071231-76a1f200-fd70-11e9-98a0-574871583a81.png" alt="image" style="max-width:100%;"></a></p>
<p>In principle, this should make it work:</p>
<div class="highlight highlight-source-c"><pre>OTG_FS_GRSTCTL |= OTG_GRSTCTL_CSRST;
<span class="pl-k">while</span> (OTG_FS_GRSTCTL &amp; OTG_GRSTCTL_CSRST);
<span class="pl-k">while</span> (!(OTG_FS_GRSTCTL &amp; OTG_GRSTCTL_AHBIDL));
OTG_FS_GINTSTS = <span class="pl-c1">0x04000020</span>; <span class="pl-c"><span class="pl-c">//</span> Reset value</span></pre></div>
<p>But enumeration still fails. I tried resetting tons of USB registers,
 but it won't enumerate. I use a logic analyzer and found that after the
 <a href="https://www.beyondlogic.org/usbnutshell/usb6.shtml#SetupPacket" rel="nofollow">SETUP request with GET_DESCRIPTOR</a>,
 we only get NACKs from the stm32. There's some undocumented thing that 
the DFU bootloader sets up that must be undone to allow USB to work, but
 I just can't find what it is.</p>
<p>A way out is to soft reset the device if we detect the reset cause to be the reset button:</p>
<div class="highlight highlight-source-c"><pre>  <span class="pl-k">int</span> pin_reset = (
    (RCC_CSR &amp; RCC_CSR_PINRSTF) <span class="pl-c"><span class="pl-c">//</span> PIN reset flag</span>
    &amp;&amp;
    !(
      RCC_CSR &amp; (
        RCC_CSR_LPWRRSTF | <span class="pl-c"><span class="pl-c">//</span> Low-power reset flag</span>
        RCC_CSR_WWDGRSTF | <span class="pl-c"><span class="pl-c">//</span> Window watchdog reset flag</span>
        RCC_CSR_IWDGRSTF | <span class="pl-c"><span class="pl-c">//</span> Independent watchdog reset flag</span>
        RCC_CSR_SFTRSTF | <span class="pl-c"><span class="pl-c">//</span> Software reset flag</span>
        RCC_CSR_PORRSTF | <span class="pl-c"><span class="pl-c">//</span> POR/PDR reset flag</span>
        RCC_CSR_BORRSTF <span class="pl-c"><span class="pl-c">//</span> BOR reset flag</span>
      )
    )
  );
  RCC_CSR |= RCC_CSR_RMVF;
  <span class="pl-k">if</span>(pin_reset){
	<span class="pl-c1">scb_reset_system</span>();
  }</pre></div>
<p>So, when immediately leaving the DFU, we'll soft reset, thus making USB work.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="rLzbzH5NoKEZnyLDvy3MZuu9517X37GsJ97yjlpVQXyMP8vLBMcwGFOjZfJCWDsWDVDIWLlRECEs7qWRLFY6+Q==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0OTA0MTk0Mg==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0OTA3MTQwNQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU0OTA3MTQwNQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU0OTA3MTQwNQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-549071405">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="8700c83e72c71b08c4d06a7936366fd4e8fb5d43e7b8a3c900093e788b36e42c" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="Zg68Cra/aRAy4Op7aw6Ou91Si3gupS7p0muvQRcNgW0SuVrpJ+GrBxvWOG3K0Ol1a3TcAIyzK9vcrIez2sIR8A==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="LZl2ZAgVPFGNrQhoD+koiOOe9C2KzT+3pbN/ac2Y8NoNGmZjcp+s6MeRT1nynN/4BXPbK+RDnjqugyh2u5uLXw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0OTA3MTQwNQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/549071405/comment_actions_menu?href=%23issuecomment-549071405&amp;gid=MDEyOklzc3VlQ29tbWVudDU0OTA3MTQwNQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-549071405" id="issuecomment-549071405-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-11-02T18:59:32Z" class="no-wrap" title="Nov 2, 2019, 2:59 PM EDT">on Nov 2, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p><strong>Found the issue with <code>stm32f107_usbd_init</code>!</strong></p>
<div class="highlight highlight-source-c"><pre>	<span class="pl-k">if</span> (OTG_FS_CID &gt;= OTG_CID_HAS_VBDEN) {
		<span class="pl-c"><span class="pl-c">/*</span> Enable VBUS detection in device mode and power up the PHY. <span class="pl-c">*/</span></span>
		OTG_FS_GCCFG |= OTG_GCCFG_VBDEN | OTG_GCCFG_PWRDWN;
	} <span class="pl-k">else</span> {
		<span class="pl-c"><span class="pl-c">/*</span> Enable VBUS sensing in device mode and power up the PHY. <span class="pl-c">*/</span></span>
		OTG_FS_GCCFG |= OTG_GCCFG_VBUSBSEN | OTG_GCCFG_PWRDWN;
	}</pre></div>
<p><code>OTG_FS_CID</code> on STM32F411CEU6 is 0x00001200 and <code>OTG_CID_HAS_VBDEN</code> is 0x00002000, so this test fail and <code>OTG_GCCFG_VBUSBSEN</code> is set. If I change it to <code>OTG_GCCFG_VBDEN</code>, the <code>otgfs_usb_driver</code> works for STM32F411CEU6, despite the rest of the initialization not follow the datasheet, meh, but yeah!</p>
<p>The datasheet merely refers to <code>OTG_FS_CID</code> as "product id", what's the rational of comparing this value with <code>OTG_CID_HAS_VBDEN</code>? I tried doing <code>OTG_FS_CID = OTG_CID_HAS_VBDEN;</code> before <code>usbd_init()</code>, but it does not work (my guess is the core soft reset reverts the value).</p>
<p>From the datasheet:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/1386232/68075584-9c93ba80-fda1-11e9-97c3-adcb6c55d256.png"><img src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/68075584-9c93ba80-fda1-11e9-97c3-adcb6c55d256.png" alt="image" style="max-width:100%;"></a></p>
<p>So it seems VBUS sensing is dependent on how the board is built / powered, so we'd need a way to configure this. Making <code>_usbd_driver</code> public would allow that, but perhaps we can consider having <code>otgfs_novbussens_usb_driver</code> and be explicit to users instead.</p>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp">@karlp</a> how to you think we can make this work?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="W2ckE7XB7fIz6h64uX8urg9HMsQc0SqpdGv9lpH+jQh75DQUz0t9S3nWWYlECtne6aodwnJfiyR/W6qJ5/32jQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU0OTA3MTQwNQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU1MjE0NTkzOA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU1MjE0NTkzOA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU1MjE0NTkzOA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-552145938">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="f4ad0a3ac0716143b92c2180b3ea42e40bce9a306295e020b0a239170865672c" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="cIVUMUbIFUxnSQpagTRDBkRXX0Zm09SP2gJhD61rQiUEMrLS15bXW05/2Ewg6iTI8nEIPsTF0b3UxUn9YKTSuA==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="Lr4TAgAMw0YpUEkB1tAOvqBme7TwgcKXrJACzmbXmWsOPQMFeoZT/2NsDjArpfnORotUsp4PYxqnoFXRENTi7g==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU1MjE0NTkzOA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/552145938/comment_actions_menu?href=%23issuecomment-552145938&amp;gid=MDEyOklzc3VlQ29tbWVudDU1MjE0NTkzOA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-552145938" id="issuecomment-552145938-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-11-09T23:09:27Z" class="no-wrap" title="Nov 9, 2019, 6:09 PM EST">on Nov 9, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>FYI, I managed to fix this in <a href="https://github.com/fornellas/3dpkbd2/blob/321ef6eafaa3616f3571fdfe88835f5d1c9dac16/keyboard/usb.c#L84-L95">my project</a> by doing this:</p>
<div class="highlight highlight-source-c"><pre>usbd_dev = usbd_init(
  &amp;otgfs_usb_driver,
  ...       
);
OTG_FS_GCCFG |= OTG_GCCFG_NOVBUSSENS;</pre></div>
<p>It would still be nice to have a library interface to configure NOVBUSSENS, or at least, have documentation regarding this.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top has-reactions js-reactions-container">
    <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="La/4dlKV4JrX/gdVWfBHp8j65BggdXHkWZq11OK4/IUNLOhxKB9wI53CQGSkhbDXLhfLHk770GlSquLLlLuHAA==">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU1MjE0NTkzOA==">

      <div class="comment-reactions-options">

          <button class="btn-link reaction-summary-item tooltipped
              tooltipped-se tooltipped-multiline
              " name="input[content]" type="submit" value="THUMBS_UP react" aria-label="manuelbl and antongus reacted with thumbs up emoji">
            <g-emoji alias="thumbs up" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji mr-1"><img class="emoji" alt="thumbs up" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
            2
          </button>
      </div>
</form>
    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="Z8R0nzwKV/1Kxv6tVOH0i45qdK5tvxoRJ3E0Tk/cGnNHR2SYRoDHRAD6uZyplAP7aIdbqAMxu5wsQWNROd9h9g==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU1MjE0NTkzOA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2MDE2NTA5OA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2MDE2NTA5OA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2MDE2NTA5OA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401"><img class="avatar rounded-1 avatar-user" alt="@rwilfong50401" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/8082383_003.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-560165098">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="57567a9257369c646834ba29123111aa7e230ff99cfa25688becacae7f9a89ea" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="5xXiyQp6bJU9qQBd1BqlKMJMPLmEfH2aFfO+7i/+9C+TogQqmySughSf0kt1xMLmdGprwSZqeKgbNJYc4jFksg==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="i2c2sm1vrcU2o53WsFiCylwPFymK6hVBoCMy6m/AgmWr5Ca1F+U9fHyf2udNLXW6uuI4L+RktMyrE2X1GcP54A==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2MDE2NTA5OA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/560165098/comment_actions_menu?href=%23issuecomment-560165098&amp;gid=MDEyOklzc3VlQ29tbWVudDU2MDE2NTA5OA%3D%3D" preload="" role="menu">
      













      <clipboard-copy class="dropdown-item btn-link" for="issuecomment-560165098-permalink" role="menuitem" tabindex="0">
    Copy link
  </clipboard-copy>

      <button type="button" class="dropdown-item btn-link js-comment-quote-reply js-comment-quote-reply-deferred" role="menuitem">
    Quote reply
  </button>

    
    
<details class="details-reset details-overlay details-overlay-dark lh-default color-text-primary ">
  <summary class="dropdown-item" role="menuitem">
    Reference in new issue
  </summary>
  <details-dialog aria-label="Reference in new issue" class="Box Box--overlay d-flex flex-column anim-fade-in fast Box-overlay--wide" role="dialog" aria-modal="true">
    <div class="Box-header">
      <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog="">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
      </button>
      <h3 class="Box-title ">Reference in new issue</h3>
    </div>
    
      <div class="Box-body overflow-auto">
        

<!-- '"` --><!-- </textarea></xmp> --><form action="/comments/issues" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="gvSk7XpWXYmo6U7v1cSs7BVwOhBzo9375KS6sqY4vo8VEROL9uDTou+QkW9Tu/k+iU7yy12faQsrkjzT4nVRyQ==">
  <dl class="form-group">
    <dt><label for="convert-to-issue-repository-560165098">Repository</label></dt>
    <dd>
      <details class="details-reset details-overlay select-menu">
        <summary class="btn select-menu-button" data-menu-button="" aria-haspopup="menu" role="button">
          <input type="text" name="issue[repository_id]" class="d-none" value="4065980" required="">
          libopencm3
        </summary>
        <details-menu class="select-menu-modal position-absolute" style="z-index: 99;" src="/libopencm3/libopencm3/related_repositories" preload="" role="menu">
          <div class="select-menu-header">
            <span class="select-menu-title">Repositories</span>
          </div>
          <div class="select-menu-filters">
            <div class="select-menu-text-filter">
              <remote-input src="/libopencm3/libopencm3/related_repositories" aria-owns="related-repositories-menu">
                <input type="text" class="form-control" aria-label="Type to filter" placeholder="Find a repository" autofocus="" autocomplete="off" spellcheck="false">
              </remote-input>
            </div>
          </div>
          <include-fragment class="my-6" aria-label="Loading..."><svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="64" height="64" class="mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg></include-fragment>
        </details-menu>
      </details>
    </dd>
  </dl>
  <dl class="form-group">
    <dt><label for="convert-to-issue-title-560165098">Title</label></dt>
    <dd><input id="convert-to-issue-title-560165098" class="form-control" type="text" name="issue[title]" value="Thanks @fornellas for figuring this out. I too have started playing with the STM32F411CEU6 and your fix works for me. I did some tracing on the board and it looks like only DP and DM are connected from the USB connector. This makes sense because the board is made as close to the Bluepill design as possible. Also, somewhere above I believe there is mention of the pull-up on DP. Since the STM32F411 has a built in PHY that handles all the USB physical layer requirements, we don't need to worry about any external pull-up on DP." aria-label="Issue title" autofocus="" required=""></dd>
  </dl>
  <dl class="form-group">
    <dt><label for="convert-to-issue-body-560165098">Body</label></dt>
    <dd><textarea id="convert-to-issue-body-560165098" name="issue[body]" class="form-control" aria-label="Issue body">Thanks
 @fornellas for figuring this out. I too have started playing with the 
STM32F411CEU6 and your fix works for me. I did some tracing on the board
 and it looks like only DP and DM are connected from the USB connector. 
This makes sense because the board is made as close to the Bluepill 
design as possible. Also, somewhere above I believe there is mention of 
the pull-up on DP. Since the STM32F411 has a built in PHY that handles 
all the USB physical layer requirements, we don't need to worry about 
any external pull-up on DP.

Finally, based on my review of the specs, it looks like this board is 
limited to device mode, and would need different physical connections to
 the extra USB (PA8, PA9, PA10) lines for OTG host modes. That, and also
 a power injector.

_Originally posted by @rwilfong50401 in 
https://github.com/libopencm3/libopencm3/issues/1119#issuecomment-560165098_</textarea></dd>
  </dl>

  <div class="d-flex d-sm-block">
    <button type="submit" class="btn btn-primary" data-disable-with="Creating issue..." data-disable-invalid="" data-ga-click="Issues, create new issue, location:comment_menu logged_in:true">
      Create issue
    </button>
  </div>
</form>
      </div>

  </details-dialog>
</details>

    

    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401"><img class="avatar rounded-1 avatar-user" alt="@rwilfong50401" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/8082383_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401">rwilfong50401</a>
  

    </strong>


    commented


      <a href="#issuecomment-560165098" id="issuecomment-560165098-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-01T22:02:32Z" class="no-wrap" title="Dec 1, 2019, 5:02 PM EST">on Dec 1, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Thanks <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">@fornellas</a>
 for figuring this out. I too have started playing with the 
STM32F411CEU6 and your fix works for me. I did some tracing on the board
 and it looks like only DP and DM are connected from the USB connector. 
This makes sense because the board is made as close to the Bluepill 
design as possible. Also, somewhere above I believe there is mention of 
the pull-up on DP. Since the STM32F411 has a built in PHY that handles 
all the USB physical layer requirements, we don't need to worry about 
any external pull-up on DP.</p>
<p>Finally, based on my review of the specs, it looks like this board is
 limited to device mode, and would need different physical connections 
to the extra USB (PA8, PA9, PA10) lines for OTG host modes. That, and 
also a power injector.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="8aOjsPtn/IZej7nn4wJ0+x9xwFLLLCtSrm4tpzdqVubRILO3ge1sPxSz/tYed4OL+ZzvVKWiit+lXnq4QWktYw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2MDE2NTA5OA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTE1NTg4MQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTE1NTg4MQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTE1NTg4MQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-565155881">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="4d7c293627b592effb0948ef82b530daa7a6781ba94508808b19922c411cdf62" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="EgtZPSKi6YHmqr17TpzTdaA7FZQqFNgHYOqV8IVUEqZmvL/es/wrls+cb23vQrS7Fh1C7IgC3TVuLb0CSJuCOw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="/mLoARYc4ajsPUzYofo0tNzHIFI0BTbBPp+ez4K+Hl7e4fgGbJZxEaYBC+lcj8PEOioPVFqLl0w1r8nQ9L1l2w==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTE1NTg4MQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/565155881/comment_actions_menu?href=%23issuecomment-565155881&amp;gid=MDEyOklzc3VlQ29tbWVudDU2NTE1NTg4MQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-565155881" id="issuecomment-565155881-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-12T19:43:30Z" class="no-wrap" title="Dec 12, 2019, 2:43 PM EST">on Dec 12, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401">@rwilfong50401</a> that seems to be the case.</p>
<p>The new issue I found, is that if the host issues an USB Reset (eg: 
when you power cycle the machine), enumeration won't work again: the 
device will stall all SETUP requests (I checked with a logic analyzer). I
 managed to go around this by soft resetting the whole device, but this 
is obviously far from optimal.</p>
<p>The code that handles USB Reset, just like the initialization code, 
does not follow what the datasheet states that must be done. Because it 
is the second time I find issues with this driver that piggy backs on 
stm32f107_usb_driver, I'm sketching a new otgfs_usb_driver, that I'll 
try to follow the datasheet as best as I can. USB has a tool <a rel="nofollow" href="https://www.usb.org/usb2tools">https://www.usb.org/usb2tools</a> to check for compliance, I think this would be the measure of success here :-D <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401">@rwilfong50401</a> , I'm glad to receive help if you can.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="LTIdrM7GzI/89XQsE1Ghv5auL9VKOph0CJNEZ/ly6MsNsQ2rtExcNrbJMx3uJFbPcEMA0yS0OfkDoxN4j3GTTg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTE1NTg4MQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTE4MDU3MQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTE4MDU3MQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTE4MDU3MQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp"><img class="avatar rounded-1 avatar-user" alt="@karlp" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/127907_002.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-565180571">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="713886283d0ef389f3d2ab26af61b2f2a80d6e5b5591ec0aefc5fb932d29b6ca" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="lhwHUAtgvNnr5LhTajyBUAnjGTdE8e3Cn4FgRSEz78riq+Gzmj5+zsLSakXL4uaev8VOT+bn6PCRRki37Px/Vw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="z4pzway2RzSZyG5ujve0Q369vW3CuB56Bs8FzDh+YnLvCWPG1jzXjdP0KV9zgkMzmFCSa6w2v/cN/1LTTn0Z9w==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTE4MDU3MQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/565180571/comment_actions_menu?href=%23issuecomment-565180571&amp;gid=MDEyOklzc3VlQ29tbWVudDU2NTE4MDU3MQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the libopencm3 lowlevel Open-Source library for ARM cortex MCUs organization.">
      Member
    </span>


  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp"><img class="avatar rounded-1 avatar-user" alt="@karlp" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/127907.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp">karlp</a>
  

    </strong>


    commented


      <a href="#issuecomment-565180571" id="issuecomment-565180571-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-12T20:49:18Z" class="no-wrap" title="Dec 12, 2019, 3:49 PM EST">on Dec 12, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>I completely agree that the vbus sensing should be 
something that users should be able to select themselves.  as far as 
rewriting driver internals, yes, it's odd that it doesn't do the exact 
ordering that the  datasheet says.  If you want to re-order things, 
please make sure you're getting some testing on alternate hardware 
however, that's the purpose of the gadget0 tests, and teh reason we 
don't make changes here rapidly, "fixes" tend to be "breakages" at the 
same time.</p>
<p>Re the OTG_FS_CID check, that is checking for how to turn on vbus 
sensing for that version of the otg_fs core.  The different versions 
have the bit in a different place, with a different name.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="eORIDRwN6Qlz6/W2WZXYxQf4HfI5SibX8U8UqPv5xRZYZ1gKZod5sDnXsoek4C+14RUy9FfEh1r6f0O3jfq+kw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTE4MDU3MQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTM4Mjk3Ng==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTM4Mjk3Ng==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTM4Mjk3Ng==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-565382976">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="fb487f7afbef3de556818060274b90a55494bfc386d67f91b01eeb176b194ec9" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="wv34TD9m2O5U/77g4WgRCqmtuHwu6PVIc7ruKSid/8a2Sh6vrjga+X3JbPZAtnbEH4vvBIz+8Hp9fcbb5VJvWw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="gkpCj8gAIguo4+zMeU5suXxC9MQ7PlYT0CMG6a3zdtSiyVKIsoqysuLfq/2EO5vJmq/bwlWw957bE1H22/ANUQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTM4Mjk3Ng==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/565382976/comment_actions_menu?href=%23issuecomment-565382976&amp;gid=MDEyOklzc3VlQ29tbWVudDU2NTM4Mjk3Ng%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-565382976" id="issuecomment-565382976-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-13T10:11:28Z" class="no-wrap" title="Dec 13, 2019, 5:11 AM EST">on Dec 13, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>o7 for gadget tests :-D</p>
<p>OTG_FS_CID: I'm confused to the "code compatibility for the family". 
Perhaps the differences you mentioned are for F1, and all F4 are such as
 the model on this post?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="OObKbBI38sQeBhv4mmWkIhk9gOTfnkv5mZMFQoyeCL0YZdpraL1ifVQ6XMlnEFNS/9Cv4rEQ6nSSo1Jd+p1zOA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTM4Mjk3Ng==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTQ0Njg1Mg==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTQ0Njg1Mg==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTQ0Njg1Mg==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp"><img class="avatar rounded-1 avatar-user" alt="@karlp" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/127907_002.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-565446852">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="a301ef8f5ee6413749a3c88ff0bb4311846715cc5fb67c0ba107c23d6b49573c" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="ZhIMS7nMFH3t+X0L9s7coI6QP6jXFsTd8JXliEP51rISpeqoKJLWasTPrx1XELtuOLZo0HUAwe/+Us16jjZGLw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="d25zzVGoxkFlBXfjFvFeO9SuuOYBCzU9F8eXEQaPr91X7WPKKyJW+C85MNLrhKlLMkOX4G+FlLAc98AOcIzUWA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTQ0Njg1Mg==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/565446852/comment_actions_menu?href=%23issuecomment-565446852&amp;gid=MDEyOklzc3VlQ29tbWVudDU2NTQ0Njg1Mg%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the libopencm3 lowlevel Open-Source library for ARM cortex MCUs organization.">
      Member
    </span>


  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp"><img class="avatar rounded-1 avatar-user" alt="@karlp" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/127907.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp">karlp</a>
  

    </strong>


    commented


      <a href="#issuecomment-565446852" id="issuecomment-565446852-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-13T13:47:34Z" class="no-wrap" title="Dec 13, 2019, 8:47 AM EST">on Dec 13, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>there are different versions of f4, with different 
revisions in otg_fs_cid.  notably, the original f4 disco, and the f429 
disco have different versions.  (you can git annotate to see where that 
all came from)</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="cq6TDb6SewzG+KhmideNL3/9+gfajcBfg/23XO4IA0FSLYMKxBjrtYzE71d0onpfmRDVAbQDYdKIzeBDmAt4xA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTQ0Njg1Mg==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTcwMzQ1OQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTcwMzQ1OQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTcwMzQ1OQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-565703459">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="d8fd40fbdd5d75ef669b224a212c12c666f297cc152d6be1ccdb03e49604d5a8" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="Bnrfx8WdjAAfPC9XTIl20wVOrcoWPD7cjTBJ3ZmtPLVyzTkkVMNOFzYK/UHtVxEds2j6srQqO+6D92EvVGKsKA==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="LYGw7eiJFVtgZxV0CLQTaHxQH8p+CKBHPJaGNDhEPdANAqDqkgOF4ipbUkX1weQYmr0wzBCGAco3ptErTkdGVQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTcwMzQ1OQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/565703459/comment_actions_menu?href=%23issuecomment-565703459&amp;gid=MDEyOklzc3VlQ29tbWVudDU2NTcwMzQ1OQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">
      <span class="comment-type-icon tooltipped tooltipped-n" aria-label="This comment was left via email reply.">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-mail">
    <path fill-rule="evenodd" d="M1.75 2A1.75 1.75 0 000 3.75v.736a.75.75 0 000 .027v7.737C0 13.216.784 14 1.75 14h12.5A1.75 1.75 0 0016 12.25v-8.5A1.75 1.75 0 0014.25 2H1.75zM14.5 4.07v-.32a.25.25 0 00-.25-.25H1.75a.25.25 0 00-.25.25v.32L8 7.88l6.5-3.81zm-13 1.74v6.441c0 .138.112.25.25.25h12.5a.25.25 0 00.25-.25V5.809L8.38 9.397a.75.75 0 01-.76 0L1.5 5.809z"></path>
</svg>
      </span>


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-565703459" id="issuecomment-565703459-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-14T10:03:47Z" class="no-wrap" title="Dec 14, 2019, 5:03 AM EST">on Dec 14, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body email-format js-comment-body user-select-contain">
          <div class="email-fragment">Oh, yeah, that's just the product ID, fair.

What I'm curios to know from your experience is, how does code
compatibility works across the same F4 family. There are over 140 models
with USB support
<a href="https://www.st.com/en/microcontrollers-microprocessors/stm32f4-series.html#products">https://www.st.com/en/microcontrollers-microprocessors/stm32f4-series.html#products</a>
And it would not be feasible to go through all of their datasheets.

Would it be safe to assume that if all tests passes for one model in the F4
family, it should work for others as well? I have only 2 different models
to test at hand.</div>
<span class="email-hidden-toggle"><a href="#">…</a></span><div class="email-hidden-reply">
<div class="email-quoted-reply">On Fri, Dec 13, 2019, 13:47 Karl Palsson ***@***.***&gt; wrote:
 there are different versions of f4, with different revisions in
 otg_fs_cid. notably, the original f4 disco, and the f429 disco have
 different versions. (you can git annotate to see where that all came from)

 —
 You are receiving this because you were mentioned.
 Reply to this email directly, view it on GitHub
 &lt;<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="512946760" data-permission-text="Title is private" data-url="https://github.com/libopencm3/libopencm3/issues/1119" href="https://github.com/libopencm3/libopencm3/issues/1119">#1119</a>?email_source=notifications&amp;email_token=AAKSN6CA6NV2IGBI5NCUOSDQYOG7PA5CNFSM4JFRBBE2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEG2ARRA#issuecomment-565446852&gt;,
 or unsubscribe
 &lt;<a href="https://github.com/notifications/unsubscribe-auth/AAKSN6GGXOR2GNXULNYRS4TQYOG7PANCNFSM4JFRBBEQ">https://github.com/notifications/unsubscribe-auth/AAKSN6GGXOR2GNXULNYRS4TQYOG7PANCNFSM4JFRBBEQ</a>&gt;
 .
</div>
<div class="email-fragment"></div>
</div>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="TYJklQN5LpeyYm8pGpMcNQ2CB4qjP62biDDcxM+YY7dtAXSSefO+LvheKBjn5utF628ojM2xDBaDAIvbuZsYMg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTcwMzQ1OQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTcxOTE5MA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTcxOTE5MA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTcxOTE5MA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-565719190">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="b449b8b177ebccd4dfcc04499d99c4049a846808e58a0c184b14dda13b50fdfd" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="6GNJCiLClD6ERJVpPxnj9DxFULVtsodkEYGDt+gzG9Kc1K/ps5xWKa1yR3+ex4Q6imMHzc+kglYfRqtFJfyLTw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="2q26oSwkS1p1w9SbDIRhDA4N+SI16ltTgPhZgvW9dLT6LqqmVq7b4z//k6rx8ZZ86ODWJFtk+t6LyA6dg74PMQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTcxOTE5MA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/565719190/comment_actions_menu?href=%23issuecomment-565719190&amp;gid=MDEyOklzc3VlQ29tbWVudDU2NTcxOTE5MA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-565719190" id="issuecomment-565719190-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-14T13:53:01Z" class="no-wrap" title="Dec 14, 2019, 8:53 AM EST">on Dec 14, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401">@rwilfong50401</a> here's my WIP branch <a href="https://github.com/fornellas/libopencm3/blob/otgfs_usb_driver/lib/usb/usb_otgfs.c">https://github.com/fornellas/libopencm3/blob/otgfs_usb_driver/lib/usb/usb_otgfs.c</a>.
 I pulled code from dwg as a starting point, and am going through the 
datasheet and adding code accordingly. Should be straightforward, until 
you find reference for a register OTG_FS_TX0FSIZ that's nowhere to be 
found... meh.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="9tg0W3N8vTs8YJtvtTvI5biwnKW97ViytzFjWxVBxr/WWyRcCfYtgnZc3F5ITj+VXl2zo9Nj+T+8ATREY0K9Og==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTcxOTE5MA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTczMjQzNQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTczMjQzNQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTczMjQzNQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401"><img class="avatar rounded-1 avatar-user" alt="@rwilfong50401" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/8082383_003.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-565732435">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="066e25724dcfc04cb61d21c9091b5a8682ed579a8fae19f497cbc7956da95343" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="NMFWtaWHm2t98b25qrJMjMt1MV0f9PqhMgHUAD6otBxAdrBWNNlZfFTHb68LbCtCfVNmJb3i/5M8xvzy82ckgQ==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="QvUdJc4acczAxaNuKMxqQB690HHWekcXbg5AP1CS0p1idg0itJDhdYr55F/VuZ0w+FD/d7j05pplPhcgJpGpGA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTczMjQzNQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/565732435/comment_actions_menu?href=%23issuecomment-565732435&amp;gid=MDEyOklzc3VlQ29tbWVudDU2NTczMjQzNQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401"><img class="avatar rounded-1 avatar-user" alt="@rwilfong50401" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/8082383_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401">rwilfong50401</a>
  

    </strong>


    commented


      <a href="#issuecomment-565732435" id="issuecomment-565732435-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-14T16:34:38Z" class="no-wrap" title="Dec 14, 2019, 11:34 AM EST">on Dec 14, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">@fornellas</a>
 As far as the different models of the F4 Family is concerned, they are 
similar, but they can be different. For example the 407 series has an 
OTG FS and OTG HS. The High Speed peripheral  doesn't have a built in 
PHY so it has special configuration. The Full Speed is very similar to 
the 411, except that the 407 has different versions of the PHY and 
registers. The documentation mentions the register changes in the 
revisions list at the end of the reference manual. Apparently if you had
 an older 407, you would need to use the old documentation to set the 
old registers correctly.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top has-reactions js-reactions-container">
    <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="bj6Gi4NfiR0HB67vwyQjgg8mdkt7GXMCViViQQorPzJOvZaM+dUZpE076d4+UdTy6ctZTRWX0o9dFTVefChEtw==">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTczMjQzNQ==">

      <div class="comment-reactions-options">

          <button class="btn-link reaction-summary-item tooltipped
              tooltipped-se tooltipped-multiline
              " name="input[content]" type="submit" value="HEART react" aria-label="fornellas reacted with heart emoji">
            <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji mr-1"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
            1
          </button>
      </div>
</form>
    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="WAu+Ebp8dXmKiZpsuC26wt0emuW8WJ4yZsVB6PqmEDh4iK4WwPblwMC13V1FWE2yO/O149LWP79t9Rb3jKVrvQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTczMjQzNQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTc0MjIwMA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTc0MjIwMA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTc0MjIwMA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401"><img class="avatar rounded-1 avatar-user" alt="@rwilfong50401" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/8082383_003.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-565742200">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="681d1b5b7acf48a68ee0a30e4b075702509abbfd03ce05de8f9b1927c89d2112" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="b40KIt7GClKMc2U1kI595E/R6whFld0VEPm1JSpjGOAbOuzBT5jIRaVFtyMxUBoq+fe8cOeD2CcePp3X56yIfQ==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="YFSKIP0/GfduClJX5+PMd3evunD1wgtFshZMOIHRBfhA15onh7WJTiQ2FWYaljsHkUKVdptMqsi5Jhsn99J+fQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTc0MjIwMA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/565742200/comment_actions_menu?href=%23issuecomment-565742200&amp;gid=MDEyOklzc3VlQ29tbWVudDU2NTc0MjIwMA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401"><img class="avatar rounded-1 avatar-user" alt="@rwilfong50401" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/8082383_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401">rwilfong50401</a>
  

    </strong>


    commented


      <a href="#issuecomment-565742200" id="issuecomment-565742200-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-14T18:47:13Z" class="no-wrap" title="Dec 14, 2019, 1:47 PM EST">on Dec 14, 2019</relative-time></a>


    <span class="js-comment-edit-history">
        
  <span class="d-inline-block color-text-tertiary">•</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-text-secondary js-notice" aria-haspopup="menu" role="button">
      <div class="position-relative">
        <span>
            edited
        </span>
        <svg class="octicon octicon-triangle-down v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"></path></svg>
      </div>
    </summary>
    <details-menu class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu" style="max-width: 352px; z-index: 99;" src="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTc0MjIwMA==/comments/comment_edit_history_log" preload="" role="menu">
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading..."><svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg></include-fragment>
    </details-menu>
  </details>

    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">@fornellas</a> I looked at your changes so far, and it looks pretty good. I have a couple of comments.</p>
<p>First, if you are using the 411 reference manual RM0383 Rev 3, look 
at Figure 244 (USP peripheral-only connection.) Our board doesn't 
connect PA9, so it's correct that you use OTG_GCCFG_NOVBUSSENS. Since we
 also don't have connectivity to the ID line (PA10) I would also force 
peripheral-only mode (OTG_FS_GUSBCFG |= OTG_GUSBCFG_FDMOD). You might 
also consider disabling HNP and SRP as described in 22.4.2 and 22.4.3.</p>
<p>I only suggest this because it will make the OTG work more like the 
plain-old regular USB device. I get the feeling from looking through the
 libopencm3 code that this is the way things were originally set up, 
probably because OTG is relatively newer.</p>
<p>Just my 2 cents.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="0DyxiDYfkBwfouFKekcLcVehceq0Vpz8tzcJUsfwlfXwv6GPTJUApVWepnuHMvwBsUxe7NrYPXG8B15NsfPucA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTc0MjIwMA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTc0MjkwMA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTc0MjkwMA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTc0MjkwMA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-565742900">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="f055584a9c87e632cb2127f9d866525155a519beb8e37e44f3246d3cb5b25e4e" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="lckLPv2O6+aEwhR6MXintVyx4i4/Hhy8imjzOTTIcZ/hfu3dbNAp8a30xmyQpsB76pe1Vp0IGY6Er9vL+QfhAg==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="vnqO8nJEdHHpRDKFyCqsigk86dCIrv/kAmLxrGnfViKe+Z71CM7kyKN4dbQ1X1v679HG1uYgXmkJUqazH9wtpw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTc0MjkwMA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/565742900/comment_actions_menu?href=%23issuecomment-565742900&amp;gid=MDEyOklzc3VlQ29tbWVudDU2NTc0MjkwMA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-565742900" id="issuecomment-565742900-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-14T18:56:31Z" class="no-wrap" title="Dec 14, 2019, 1:56 PM EST">on Dec 14, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Thanks for the tips, I'll update my branch tomorrow with those.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="20Fc157jy5cLWIAOBWkjVS7UHxOtI9xyzZeG6ptmiKr7wkzQ5GlbLkFkxz/4HNQlyDkwFcOtff/Gp9H17WXzLw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTc0MjkwMA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTc3MDMxMQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTc3MDMxMQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTc3MDMxMQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/ChuckM/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ChuckM"><img class="avatar rounded-1 avatar-user" alt="@ChuckM" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/532407.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-565770311">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="1f1a6e8560a36da25414714e5ccdea09082ece425672e76d9c2c8c45580e353b" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="M9ylP2qUcat0WNuVqfInfUrp3Fhdr07ejcfWvHulvUFHa0Pc+8qzvF1uCYMILECz/M+LIP+5S+yDAP5Otmot3A==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="qfV9/aKHJQlJO8nsGXphdLI043X5b1YVKgFpeTMJhGeJdm362A21sAMHjt3kD5YEVNnMc5fh95ghMT5mRQr/4g==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTc3MDMxMQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/565770311/comment_actions_menu?href=%23issuecomment-565770311&amp;gid=MDEyOklzc3VlQ29tbWVudDU2NTc3MDMxMQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/ChuckM/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ChuckM"><img class="avatar rounded-1 avatar-user" alt="@ChuckM" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/532407_003.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/ChuckM/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ChuckM">ChuckM</a>
  

    </strong>


    commented


      <a href="#issuecomment-565770311" id="issuecomment-565770311-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-15T02:06:14Z" class="no-wrap" title="Dec 14, 2019, 9:06 PM EST">on Dec 14, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <blockquote>
<p>Oh, yeah, that's just the product ID, fair. What I'm curios to know 
from your experience is, how does code compatibility works across the 
same F4 family. There are over 140 models with USB support <a href="https://www.st.com/en/microcontrollers-microprocessors/stm32f4-series.html#products" rel="nofollow">https://www.st.com/en/microcontrollers-microprocessors/stm32f4-series.html#products</a> And it would not be feasible to go through all of their datasheets.</p>
</blockquote>
<p>Going through 140 data sheets is not "a lot of work" it is at most 
about a week of work. Just saying.  Generally though, you can just go 
through the various reference manuals, and there are only about 30 of 
those. The last time I did the 'every data sheet' thing was to figure 
out all possible pins that all possible SPI or I2C ports could appear on
 so that my SPI/I2C exercising code could configure any F4.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="sGTPqpaickfc3aPjwFsXwKxqYA9W4iRMRJxZ7K93KaeQ59+t7Cji/pbh5NI9LuCwSodPCThshcFPrA7z2XRSIg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTc3MDMxMQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTgwMjQ0Mw==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTgwMjQ0Mw==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTgwMjQ0Mw==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-565802443">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="3db712344fcca3233e3b33b8d692a89f33b280c7367f63cee760a441d33d1e2f" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="YhxhWwEUi+qhCKPJF08LNTmi8nD1H9UzjKHKIBNLTk0Wq4e4kEpJ/Yg+cd+2kWz7j4SlCFcJ0AGCZuLS3oTe0A==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="/IBQZPBpMFGLil75OREfV6tQd/B0NpeZF01N9v/1abncA0BjiuOg6MG2GcjEZOgnTb1Y9hq4NhQcfRrpifYSPA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTgwMjQ0Mw==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/565802443/comment_actions_menu?href=%23issuecomment-565802443&amp;gid=MDEyOklzc3VlQ29tbWVudDU2NTgwMjQ0Mw%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-565802443" id="issuecomment-565802443-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-15T11:51:49Z" class="no-wrap" title="Dec 15, 2019, 6:51 AM EST">on Dec 15, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401">@rwilfong50401</a>:
 I suppose since we're doing an USB device driver, going for 
OTG_GCCFG_NOVBUSSENS and OTG_GUSBCFG_FDMOD should work for all boards, 
right? HNP / SRP seems reasonable as well, but does not seem to be 
strictly needed. Regarding OTG FS/HS, I suppose we can (for the time 
being) focus on one of them (OTG FS), make it work, then see how much 
code can be shared with the other.</p>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/ChuckM/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ChuckM">@ChuckM</a>
 TBH, I'm happy if I make my F411 work well, and pass the USB tests. 
Going after the other 29 reference manuals is something that can be done
 after.</p>
<p>I updated my branch with more stuff. I put a lot of "TODO" that halts the code, and implementing them as they pop up.</p>
<p>I could use some help with 22.17.5, where it asks to program 
OTG_FS_TX0FSIZ. It is nowhere to be found, not sure WTH. I found this <a href="https://github.com/wookey-project/driver-stm32f4xx-usb/blob/master/stm32f4xx_usb_fs.c#L1216">https://github.com/wookey-project/driver-stm32f4xx-usb/blob/master/stm32f4xx_usb_fs.c#L1216</a>, which is my best guess at the moment.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="7umK+BecAc5SAgKQ2jzhfjVRkglPGrbwK74ACkti87fOapr/bRaRdxg+RaEnSRYO07y9DyGUF30gjlcVPWGIMg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTgwMjQ0Mw==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTgxODk2Mg==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTgxODk2Mg==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTgxODk2Mg==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401"><img class="avatar rounded-1 avatar-user" alt="@rwilfong50401" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/8082383_003.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-565818962">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="3533a31cb23cf34fd0efbc324e459885b80675a7845b041dd4dd18bde84b453c" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="vQCePCI7EScVPoRjC082UeQysw7OhwEmx07YHMyynEnJt3jfs2XTMDwIVnWqkVGfUhTkdmyRBBTJifDuAX0M1A==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="BpKji82wJBaVWMpQJQDlYDnQ0prNsXFjavQQzySQS6cmEbOMtzq0r99kjWHYdRIQ3z39nKM/0O5hxEfQUpMwIg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTgxODk2Mg==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/565818962/comment_actions_menu?href=%23issuecomment-565818962&amp;gid=MDEyOklzc3VlQ29tbWVudDU2NTgxODk2Mg%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401"><img class="avatar rounded-1 avatar-user" alt="@rwilfong50401" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/8082383_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401">rwilfong50401</a>
  

    </strong>


    commented


      <a href="#issuecomment-565818962" id="issuecomment-565818962-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-15T15:22:09Z" class="no-wrap" title="Dec 15, 2019, 10:22 AM EST">on Dec 15, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">@fornellas</a>
 I agree with al of your comments. In fact, I wouldn't worry about the 
OTG HS at all, because we have no way to test it unless we order a PHY 
component for HS.</p>
<p>I will check out the OTG_FS_TX0FSIZ thing. It sounds like it could be
 a buffer setting in the device descriptor for IN (Device to Host 
transmission). I'll get back to you on that, but based on your link I 
think you're on the right track.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top has-reactions js-reactions-container">
    <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="c/ozTOUO9ovZhnbTe+pbDGxtOJTbkzSgalt6YrnAXR1TeSNLn4RmMpO6MeKGn6x8ioAXkrUdlS1hay19z8MmmA==">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTgxODk2Mg==">

      <div class="comment-reactions-options">

          <button class="btn-link reaction-summary-item tooltipped
              tooltipped-se tooltipped-multiline
              " name="input[content]" type="submit" value="THUMBS_UP react" aria-label="fornellas reacted with thumbs up emoji">
            <g-emoji alias="thumbs up" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji mr-1"><img class="emoji" alt="thumbs up" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
            1
          </button>
      </div>
</form>
    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="KZ5+3iqCP8IcIx6GnMLXGs4396y+jUZ7XYmjWK9qVLEJHW7ZUAive1YfWbdhtyBqKNrYqtAD5/ZWufRH2WkvNA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTgxODk2Mg==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTgzNjA1OA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2NTgzNjA1OA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2NTgzNjA1OA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401"><img class="avatar rounded-1 avatar-user" alt="@rwilfong50401" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/8082383_003.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-565836058">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="a9bd9e9df82d29f6f4347fa484836937caba5ed339727a45c906a5bfc0451510" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="YxUEIGVojEDFe8kIlBuirRUoCAXnIv5nlso6wXA87tAXouLD9DZOV+xNGx41xcVjow5ffUU0+1WYDRIzvfN+TQ==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="HQXo7l5zCMrQly4PFuhN9PK0+FjWqNt85ZILSrZjgWQ9hvjpJPmYc5qraT7rnbqEFFnXXrgmevHuolxVwGD64Q==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTgzNjA1OA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/565836058/comment_actions_menu?href=%23issuecomment-565836058&amp;gid=MDEyOklzc3VlQ29tbWVudDU2NTgzNjA1OA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401"><img class="avatar rounded-1 avatar-user" alt="@rwilfong50401" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/8082383_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401">rwilfong50401</a>
  

    </strong>


    commented


      <a href="#issuecomment-565836058" id="issuecomment-565836058-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-15T18:50:37Z" class="no-wrap" title="Dec 15, 2019, 1:50 PM EST">on Dec 15, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">@fornellas</a>
 I'm pretty sure OTG_FS_TX0FSIZ means OTG_FS_DIEPTXF0 according to Table
 127. Note that in host mode the same register is called HNPTXFSIZ. Also
 this one is for device 0, and at the bottom of the table it has 
OTG_FS_DIEPTXFx for device IN endpoints 1 through 3. I think they 
changed the name along the way and didn't replace it in the 
instructions.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top has-reactions js-reactions-container">
    <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="pHIxtzGxYpuPxMvvIzzbYexCo7PpeWprXXrBk5HpEGqE8SGwSzvyIsX4jN7eSSwRCq+MtYf3y+ZWSpaM5+pr7w==">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTgzNjA1OA==">

      <div class="comment-reactions-options">

          <button class="btn-link reaction-summary-item tooltipped
              tooltipped-se tooltipped-multiline
              " name="input[content]" type="submit" value="THUMBS_UP react" aria-label="fornellas reacted with thumbs up emoji">
            <g-emoji alias="thumbs up" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji mr-1"><img class="emoji" alt="thumbs up" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
            1
          </button>
      </div>
</form>
    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="7ZKiKv8Fb+kWQU1gObOLdJCsYc1Kt1E2QgSihyS4d4jNEbIthY//UFx9ClHExnwEdkFOyyQ58LtJNPWYUrsMDQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2NTgzNjA1OA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2ODIxNTkzNg==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2ODIxNTkzNg==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2ODIxNTkzNg==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-568215936">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="aebf35f7a5f43d94ab886aaa31ecd4d1b239c5704663db19aeda4bb151c7f51f" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="1xH2MtMCCpm2sVzEzVLzeh32yozxKj4bjRkrPydzKUujphDRQlzIjp+HjtJsjJS0q9Cd9FM8OymD3gPN6ry51g==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="Ne2lqHGtS9NClZR/mGdW3NNM3+xh/61W8cW7SOy7uNwVbrWvCyfbagip005lEqGsNaHw6g9xDNv69exXmrjDWQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2ODIxNTkzNg==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/568215936/comment_actions_menu?href=%23issuecomment-568215936&amp;gid=MDEyOklzc3VlQ29tbWVudDU2ODIxNTkzNg%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-568215936" id="issuecomment-568215936-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-21T22:18:23Z" class="no-wrap" title="Dec 21, 2019, 5:18 PM EST">on Dec 21, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401">@rwilfong50401</a> do you have a clue about TX0FSA on OTG_FS_DIEPTXF0? Doc says "RAM start address", but it is a 16 bit value, and <code>void *</code> is 32 bit... at <code>usb_dwc_common.c</code> it is being set to <code>usbd_dev-&gt;driver-&gt;rx_fifo_size</code> (128).</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="3qIWVZvE+YXTkNx8ocd+dWIvz6aLMkBZO+gd24SW6w3+IQZS4U5pPJmsm01csokFhMLgoOW84dQw2ErE8pWQiA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2ODIxNTkzNg==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2OTk1NDg0MA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU2OTk1NDg0MA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU2OTk1NDg0MA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-569954840">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="625f7a67f2d82943e4279a3c08e1e12e029a9d92811e5e7de9714f605066d83a" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="qftbeXssLzf9NkGw2zDuJkUMFirKMcF6MPxO6l0FOt7dTL2a6nLtINQAk6Z67ono8ypBUmgnxEg+O2YYkMqqQw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="9N8i/fB5UVRsgYJcNeJ349DzMJ1+AEKRNbF1Lmt8DnbUXDL6ivPB7Sa9xW3Il4CTNh4fmxCO4xw+gSIxHX918w==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2OTk1NDg0MA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/569954840/comment_actions_menu?href=%23issuecomment-569954840&amp;gid=MDEyOklzc3VlQ29tbWVudDU2OTk1NDg0MA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-569954840" id="issuecomment-569954840-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2019-12-31T16:30:55Z" class="no-wrap" title="Dec 31, 2019, 11:30 AM EST">on Dec 31, 2019</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <blockquote>
<p>The new issue I found, is that if the host issues an USB Reset</p>
</blockquote>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401">@rwilfong50401</a> FYI, this issues is <strong>not</strong> related to libopencm3, I just fixed it with <a href="https://github.com/fornellas/3dpkbd2/commit/88ef4038d97f57c27bd48a2aa09415207d9bacc6">this commit</a> on my project.</p>
<p>Regarding writing a new driver, while I managed to progress half way <a href="https://github.com/fornellas/libopencm3/tree/otgfs_usb_driver">on my branch</a>, I don't think there's need to pursue it any more. I just sent <a href="https://github.com/libopencm3/libopencm3/pull/1155" data-hovercard-type="pull_request" data-hovercard-url="/libopencm3/libopencm3/pull/1155/hovercard">this PR</a>
 to fix a bug in libopencm3, that was enough to make all USB compliance 
tests pass. So, despite the fact that the current driver does <em>not</em> follow the datasheet, it is fully working now, to the best of my knowledge.</p>
<p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp">@karlp</a> it seems the only think missing to close this issue is deal with:</p>
<pre><code>OTG_FS_GCCFG |= OTG_GCCFG_NOVBUSSENS;
</code></pre>
<p>being required for some boards in order to work. Given the driver is 
for device only, what do you think about adding this line to the current
 driver? I believe this is benign for all cases (unless some F4 chip 
does not support this...). <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/ChuckM/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ChuckM">@ChuckM</a>  before digging through a lot of datasheets, do you think it will work?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="mKZzjItuZZoq00YLxGi+XCwMXJ8CeEscgZV53xwbRlu4JWOL8eT1I2DvATo5HUksyuFzmWz26pGKpS7Aahg93g==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU2OTk1NDg0MA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU3MDcxODExOA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU3MDcxODExOA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU3MDcxODExOA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-570718118">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="8e6557fa3eaeb55b883e1d4382f771e64f7cc825d9a7682b46d34b91350845f8" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="hs+mvmLa+9l8a+vPo51X3aqWQ93R/wD0GOwyiDH5xR7yeEBd84Q5zlVdOdkCQzATHLAUpXPpBcYWKxp6/DZVgw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="dwAmZV9+5CyDtnY41sqiLqSmyMok1bezUueIRRFZNWBXgzZiJfR0lcmKMQkrv1VeQkvnzEpbFj5Z199aZ1pO5Q==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU3MDcxODExOA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/570718118/comment_actions_menu?href=%23issuecomment-570718118&amp;gid=MDEyOklzc3VlQ29tbWVudDU3MDcxODExOA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-570718118" id="issuecomment-570718118-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-01-03T22:31:56Z" class="no-wrap" title="Jan 3, 2020, 5:31 PM EST">on Jan 3, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>PS: I just found out that on top of disabling <code>OTG_GCCFG_NOVBUSSENS</code>, I also had to:<br>
<code>OTG_FS_GCCFG &amp;= ~OTG_GCCFG_VBUSBSEN;</code><br>
Without it, PA9 (which is used for Vbus sensing and a/b device sensing) 
will half work: when you set its pullup, the voltage at the pin is 
~1.1V, and is read with logic low. With <code>OTG_GCCFG_VBUSBSEN</code> disabled, pullup works, and we can read ~3.3V.</p>
<p>CC <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401">@rwilfong50401</a></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top has-reactions js-reactions-container">
    <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="DzbcNPo6BZmNRfpbFkIs2j9rPs3bvNXmMpmBGt37ehQvtcwzgLCVIMd5vWrrN9uq2YYRy7UydGs5qdYFq/gBkQ==">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU3MDcxODExOA==">

      <div class="comment-reactions-options">

          <button class="btn-link reaction-summary-item tooltipped
              tooltipped-se tooltipped-multiline
              " name="input[content]" type="submit" value="THUMBS_UP react" aria-label="manuelbl reacted with thumbs up emoji">
            <g-emoji alias="thumbs up" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji mr-1"><img class="emoji" alt="thumbs up" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
            1
          </button>
      </div>
</form>
    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="3kyJag0aH8bWpww30Eu4lWNhNc09Lm8PMd93J/7eFvb+z5ltd5CPf5ybSwYtPk/lhYway1OgzoI67yA4iN1tcw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU3MDcxODExOA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>




      
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU3MDgyMzg0NQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU3MDgyMzg0NQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU3MDgyMzg0NQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp"><img class="avatar rounded-1 avatar-user" alt="@karlp" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/127907_002.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-570823845">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="827e6c9ce4e66eb7887fab37b95c013ae80d1f5f90ca291b20f4e442d4c5b375" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="lLmc7K9QjiGsfQcH88XudGMVCAmwkcc4pOgELtL7HMLgDnoPPg5MNoVL1RFSG4m61TNfcRKHwgqqLyzcHzSMXw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="nU847q/ZWlnv8Qc4LMRSvTUi+0diwmtdC3a6I3Qv1hO9zCjp1VPK4KXNQAnRsaXN08/UQQxMytAARu08Aiytlg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU3MDgyMzg0NQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/570823845/comment_actions_menu?href=%23issuecomment-570823845&amp;gid=MDEyOklzc3VlQ29tbWVudDU3MDgyMzg0NQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is a member of the libopencm3 lowlevel Open-Source library for ARM cortex MCUs organization.">
      Member
    </span>


  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp"><img class="avatar rounded-1 avatar-user" alt="@karlp" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/127907.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp">karlp</a>
  

    </strong>


    commented


      <a href="#issuecomment-570823845" id="issuecomment-570823845-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-01-04T22:05:06Z" class="no-wrap" title="Jan 4, 2020, 5:05 PM EST">on Jan 4, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>so. to clarify, I think we need an API method that allows controlling whether vbus sensing should be enabled or not.</p>
<p>Secondly, you need to be careful with those bits.  <a href="https://github.com/libopencm3/libopencm3/blob/master/include/libopencm3/usb/dwc/otg_common.h#L223-L226">https://github.com/libopencm3/libopencm3/blob/master/include/libopencm3/usb/dwc/otg_common.h#L223-L226</a>
  bit 21 does different things on different core versions, and this then
 affects what A and B sensing do or do not.  This is exactly why there 
needs to be a proper api for enabling/disabling vbus sensing.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="ttJtNcQo1784IvbaV8VJim3ht4+OE0VNT0yQXgPRkrGWUX0yvqJHBnIeseuqsL76iwyYieCd5MBEfMdBddLpNA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU3MDgyMzg0NQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


      
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDU3Mjc3NDk1MQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDU3Mjc3NDk1MQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU3Mjc3NDk1MQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232.jpeg" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-572774951">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="f3f4a26c1678bbbe19f49b009fc76b6959062c044c1d4d0116f0c9434738dc4a" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="KoZ2jtqnJCz6odVzrdfEMa7sCNsbQbbsDJM+5yzfpOBeMZBtS/nmO9OXB2UMCaP/GMpfo7lXs94CVBYV4RA0fQ==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="WxDOX8pjy8BgagvSkV528j0wQaKsnkSZ1xgfSogM0hR7k95YsOlbeSpWTONsK4GC291upMIQ5RTcKEhV/g+pkQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU3Mjc3NDk1MQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/572774951/comment_actions_menu?href=%23issuecomment-572774951&amp;gid=MDEyOklzc3VlQ29tbWVudDU3Mjc3NDk1MQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user has previously committed to the libopencm3 repository.">
      Contributor
    </span>


  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas"><img class="avatar rounded-1 avatar-user" alt="@fornellas" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_002.jpeg" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">fornellas</a>
  

    </strong>


    commented


      <a href="#issuecomment-572774951" id="issuecomment-572774951-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-01-09T21:56:57Z" class="no-wrap" title="Jan 9, 2020, 4:56 PM EST">on Jan 9, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp">@karlp</a>
 given the driver is device only, what things do you see we would loose 
by making OTG_GCCFG_NOVBUSSENS / OTG_GCCFG_VAUSBSEN  / 
OTG_GCCFG_VBUSBSEN disabled for all cases? Not sure I got this 
correctly, but I'm under the impression this would be benign for all 
cases (given that the uC specific bits are set).</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="ThOKaquI/YCrRZb/ZtMlnSfhtUXFKrOldN7DHQqi0thukJpt0QJtOeF50c6bptLtwQyaQ6ukEih/7pQCfKGpXQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDU3Mjc3NDk1MQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


      
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDYzMzAzODc0NQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDYzMzAzODc0NQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDYzMzAzODc0NQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/v44r/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/v44r"><img class="avatar rounded-1 avatar-user" alt="@v44r" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/46873924_003.png" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-633038745">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="6f6bd17113c28b60276fe905799adc3cd6e50d0f7465affb1367105076df8918" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="n52w1NDR/Xsfopn+ZZv16JqOC2RGQdrgzgXu43NwTCPrKlY3QY8/bDaUS+jERZImLKhcHORX39LAwsYRvr/cvg==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="3WTVIHYZPvfeVh7GvoXLNErW2T/QG0NFfmv6ED+HYqr958UnDJOuTpRqWfdD8DxErDv2Ob6V4sh1W60PSYQZLw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDYzMzAzODc0NQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/633038745/comment_actions_menu?href=%23issuecomment-633038745&amp;gid=MDEyOklzc3VlQ29tbWVudDYzMzAzODc0NQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/v44r/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/v44r"><img class="avatar rounded-1 avatar-user" alt="@v44r" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/46873924.png" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/v44r/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/v44r">v44r</a>
  

    </strong>


    commented


      <a href="#issuecomment-633038745" id="issuecomment-633038745-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-05-23T12:06:34Z" class="no-wrap" title="May 23, 2020, 8:06 AM EDT">on May 23, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>FWIW, the proposed OTG_FS_GCCFG |= OTG_GCCFG_NOVBUSSENS 
also fixes the similar "black pill 2" board based on 401CCU6 (had the 
same problem; no enumeration by linux).</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top has-reactions js-reactions-container">
    <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="47x2QA+6T2nRFQLcQIqfuuNE8vl3g8oZxzSNTcUKyXXDP2ZHdTDf0JspRe29/2jKBand/xkNa5TMBNpSswmy8A==">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDYzMzAzODc0NQ==">

      <div class="comment-reactions-options">

          <button class="btn-link reaction-summary-item tooltipped
              tooltipped-se tooltipped-multiline
              " name="input[content]" type="submit" value="THUMBS_UP react" aria-label="manuelbl, coderkalyan, and horrordash reacted with thumbs up emoji">
            <g-emoji alias="thumbs up" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji mr-1"><img class="emoji" alt="thumbs up" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
            3
          </button>
      </div>
</form>
    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="Mi06oEYk16YKKB+c39BDQU4DtNTZLRnjNwaDZlK8EzkSriqnPK5HH0AUWK0ipbQxqO6b0rejuG48NtR5JL9ovA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDYzMzAzODc0NQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


      
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDY5NTg2MDYwMQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDY5NTg2MDYwMQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDY5NTg2MDYwMQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/yuanyanhui/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yuanyanhui"><img class="avatar rounded-1 avatar-user" alt="@yuanyanhui" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/51470109.png" width="40" height="40"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-695860601">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="5e1442cb5cd500b53c7f59d3aa0a08716142dbd89376e8bd096d83594ec34c74" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="1f/O3R81VNzpG+CxKq2+K4kJVGtDAZ/B1YMnWBrvGDihSCg+jmuWy8AtMqeLc9nlPy8DE+EXmvPbRA+q1yCIpQ==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="sYM6K+oBsXDGLHPzUFTI1KqEMo7BYFMmjYOYBTp9wVmRACoskIshyYwQNMKtIT+kTGkdiK/u8quGs88aTH663A==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY5NTg2MDYwMQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/libopencm3/libopencm3/issue_comments/695860601/comment_actions_menu?href=%23issuecomment-695860601&amp;gid=MDEyOklzc3VlQ29tbWVudDY5NTg2MDYwMQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/yuanyanhui/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yuanyanhui"><img class="avatar rounded-1 avatar-user" alt="@yuanyanhui" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/51470109_002.png" width="20" height="20"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/yuanyanhui/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yuanyanhui">yuanyanhui</a>
  

    </strong>


    commented


      <a href="#issuecomment-695860601" id="issuecomment-695860601-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-09-21T00:51:53Z" class="no-wrap" title="Sep 20, 2020, 8:51 PM EDT">on Sep 20, 2020</relative-time></a>


    <span class="js-comment-edit-history">
        
  <span class="d-inline-block color-text-tertiary">•</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-text-secondary js-notice" aria-haspopup="menu" role="button">
      <div class="position-relative">
        <span>
            edited
        </span>
        <svg class="octicon octicon-triangle-down v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"></path></svg>
      </div>
    </summary>
    <details-menu class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu" style="max-width: 352px; z-index: 99;" src="/_render_node/MDEyOklzc3VlQ29tbWVudDY5NTg2MDYwMQ==/comments/comment_edit_history_log" preload="" role="menu">
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading..."><svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg></include-fragment>
    </details-menu>
  </details>

    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>anyone got a working example of F412RET6? OTG_FS_GCCFG looks quite different to F411.<br>
Found a clue from ST's code. The following lines worked  for F412RET6.<br>
OTG_FS_GCCFG &amp;= ~OTG_GCCFG_VBDEN;<br>
OTG_FS_DCTL |= ~OTG_DCTL_SDIS;<br>
OTG_FS_GOTGCTL |= OTG_GOTGCTL_BVALOEN;<br>
OTG_FS_GOTGCTL |= OTG_GOTGCTL_BVALOVAL;</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="/libopencm3/libopencm3/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="fXi5iAc2AcU2TgmSrrgRZ8VeLFTofuVrSWO3/p1tJENd+6mPfbyRfHxyTqNTzeYXI7MDUobwROZCU+Dh625fxg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY5NTg2MDYwMQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44d.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f44e.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f604.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f389.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f615.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/2764.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f680.png" width="20" height="20"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1f440.png" width="20" height="20"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


      
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDIwOkNyb3NzUmVmZXJlbmNlZEV2ZW50MTA1MTk5MTc3Mw==">
  
        <div class="TimelineItem">
  <div class="TimelineItem-badge">
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-cross-reference">
    <path fill-rule="evenodd" d="M16 1.25v4.146a.25.25 0 01-.427.177L14.03 4.03l-3.75 3.75a.75.75 0 11-1.06-1.06l3.75-3.75-1.543-1.543A.25.25 0 0111.604 1h4.146a.25.25 0 01.25.25zM2.75 3.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 01.75.75v2.19l2.72-2.72a.75.75 0 01.53-.22h4.5a.25.25 0 00.25-.25v-2.5a.75.75 0 111.5 0v2.5A1.75 1.75 0 0113.25 13H9.06l-2.573 2.573A1.457 1.457 0 014 14.543V13H2.75A1.75 1.75 0 011 11.25v-7.5C1 2.784 1.784 2 2.75 2h5.5a.75.75 0 010 1.5h-5.5z"></path>
</svg>
  </div>

  <div class="TimelineItem-body">
      <div>
    <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/manuelbl/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/manuelbl"><img class="avatar avatar-user" alt="@manuelbl" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/10954524.jpeg" width="20" height="20"></a>
<a class="author Link--primary text-bold" data-hovercard-type="user" data-hovercard-url="/users/manuelbl/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/manuelbl">manuelbl</a>



    linked a pull request that will
    <span class="issue-keyword tooltipped tooltipped-se" aria-label="This issue will close when 1256 is merged">close</span>
    this issue

  <a class="Link--secondary" href="#ref-pullrequest-718911947">
    <relative-time datetime="2020-10-11T19:42:00Z" class="no-wrap" title="Oct 11, 2020, 3:42 PM EDT">on Oct 11, 2020</relative-time>
  </a>
</div>

<div class="mt-2 d-flex flex-items-start flex-column flex-md-row">
  <div class="flex-auto break-word" id="ref-pullrequest-718911947">
    <a href="https://github.com/libopencm3/libopencm3/pull/1256" class="Link--primary f4 text-bold markdown-title" data-hovercard-type="pull_request" data-hovercard-url="/libopencm3/libopencm3/pull/1256/hovercard">
      Disable VBUS sensing
      <span class="color-text-secondary text-normal">#1256</span>
</a>  </div>


  <div class="flex-shrink-0 my-1 my-md-0 ml-md-3">
      <span title="Status: Open" data-view-component="true" class="State State--open State--small">
  <svg height="14" class="octicon octicon-git-pull-request" viewBox="0 0 16 16" version="1.1" width="14" aria-hidden="true"><path fill-rule="evenodd" d="M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"></path></svg> Open
</span>
  </div>
</div>





  </div>
</div>



</div>




  <!-- Rendered timeline since 2020-10-11 12:42:00 -->
  <div class="js-timeline-marker js-socket-channel js-updatable-content" id="partial-timeline" data-channel="eyJjIjoiaXNzdWU6NTEyOTQ2NzYwIiwidCI6MTYyMzI5MDA0NX0=--53bbe2a79ffbeea38d55a35979dc5be75b55db543c4e616490d0c3d3bab62119" data-url="/_render_node/MDU6SXNzdWU1MTI5NDY3NjA=/issues/unread_timeline?variables%5BdeferCommitBadges%5D=false&amp;variables%5BdeferStatusCheckRollups%5D=false&amp;variables%5BdeferredCommentActions%5D=true&amp;variables%5BhasFocusedReviewComment%5D=false&amp;variables%5BhasFocusedReviewThread%5D=false&amp;variables%5BtimelinePageSize%5D=30&amp;variables%5BtimelineSince%5D=2020-10-11T19%3A42%3A00Z" data-last-modified="Sun, 11 Oct 2020 19:42:00 GMT" data-gid="MDU6SXNzdWU1MTI5NDY3NjA=">
    <!-- '"` --><!-- </textarea></xmp> --><form class="d-none js-timeline-marker-form" action="/_graphql/MarkNotificationSubjectAsRead" accept-charset="UTF-8" data-remote="true" method="post"><input type="hidden" name="authenticity_token" value="S8m1fn2Unxrhv3AYv0CaRG7msq2NHpBR9gv8jPGUyheSESjwV1yk0FXtANm1nlO+ue7A9Dv53SlwS2F7nnEF8Q==">
      <input type="hidden" name="variables[subjectId]" value="MDU6SXNzdWU1MTI5NDY3NjA=">
</form>  </div>

</div>


              </div>


              <span id="issue-comment-box"></span>
              <div class="discussion-timeline-actions">
                        <div class="timeline-comment-wrapper timeline-new-comment js-comment-container js-targetable-element  ml-0 pl-0 ml-md-6 pl-md-3" id="issuecomment-new">
  <div class=" d-none d-md-block">
  <span class="timeline-comment-avatar "><a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/bm16ton/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bm16ton"><img class="avatar avatar-user" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/12674623.png" alt="@bm16ton" width="40" height="40"></a></span>
  </div>
    <div class="border-0 border-md timeline-comment timeline-comment--caret">
      <!-- '"` --><!-- </textarea></xmp> --><form class="js-new-comment-form js-needs-timeline-marker-header" action="/libopencm3/libopencm3/issue_comments" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="B/XqmeRglr2BXW94joSleETvJ8tfkJR3ZdqOKkaaLX7fu+HxNTo2TDdaQeetA1EKyqFIXxQXC85Ci5xZBMfsRw==">
        <input type="text" name="required_field_d4fe" class="form-control" hidden="hidden"><input type="hidden" name="timestamp" value="1623290045281" class="form-control"><input type="hidden" name="timestamp_secret" value="f6dc3f3c14f0a619f1a63851cfebe17a3812146bfe464ab3ebcf75cfa1759f0e" class="form-control">
        <input type="hidden" name="issue" value="1119">
          <fieldset class="min-width-0">
              <tab-container class="js-previewable-comment-form previewable-comment-form write-selected" data-preview-url="/preview?markdown_unsupported=false&amp;repository=4065980&amp;subject=1119&amp;subject_type=Issue">
  <input type="hidden" value="WPYTcPOsv7N5u509jRYc5dOxw2gLWQcUU2jwaPmkjzzD0zmSWGX8vo2p4PJLKw0AIOgweiitDENLSc/w6O36AA==" data-csrf="true" class="js-data-preview-url-csrf">
  <div class="comment-form-head tabnav d-flex flex-justify-between mb-2 p-0 tabnav--responsive flex-column border-bottom-0 mb-0 mb-lg-2 flex-items-stretch border-lg-bottom color-border-primary flex-lg-items-center flex-lg-row">
      <div class="tabnav-tabs mx-0 mx-md-2 mt-0 mt-md-2 no-wrap d-flex flex-auto d-md-block" role="tablist">
        <button type="button" class="btn-link tabnav-tab write-tab js-write-tab px-3 px-sm-6 px-md-3 flex-1 flex-md-auto" role="tab" aria-selected="true" tabindex="0">
          Write
        </button>
        <button type="button" class="btn-link tabnav-tab preview-tab js-preview-tab flex-1 flex-md-auto" role="tab" aria-selected="false" tabindex="-1">
          Preview
        </button>
      </div>
    <markdown-toolbar role="toolbar" aria-label="Composition" for="new_comment_field" data-view-component="true" class="js-details-container Details toolbar-commenting no-wrap border-md-top border-lg-top-0 d-flex px-2 pt-2 pt-lg-0 flex-items-start flex-wrap" tabindex="0">
    <div class="d-block d-md-none flex-auto">
      <button data-md-button="" tabindex="-1" type="button" aria-label="Toggle text tools" aria-expanded="false" class="js-details-target btn-link toolbar-item no-underline py-2 mr-1">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-typography">
    <path fill-rule="evenodd" d="M6.21 8.5L4.574 3.594 2.857 8.5H6.21zm.5 1.5l.829 2.487a.75.75 0 001.423-.474L5.735 2.332a1.216 1.216 0 00-2.302-.018l-3.39 9.688a.75.75 0 001.415.496L2.332 10H6.71zm3.13-4.358C10.53 4.374 11.87 4 13 4c1.5 0 3 .939 3 2.601v5.649a.75.75 0 01-1.448.275C13.995 12.82 13.3 13 12.5 13c-.77 0-1.514-.231-2.078-.709-.577-.488-.922-1.199-.922-2.041 0-.694.265-1.411.887-1.944C11 7.78 11.88 7.5 13 7.5h1.5v-.899c0-.54-.5-1.101-1.5-1.101-.869 0-1.528.282-1.84.858a.75.75 0 11-1.32-.716zM14.5 9H13c-.881 0-1.375.22-1.637.444-.253.217-.363.5-.363.806 0 .408.155.697.39.896.249.21.63.354 1.11.354.732 0 1.26-.209 1.588-.449.35-.257.412-.495.412-.551V9z"></path>
</svg>
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-chevron-up Details-content--shown">
    <path fill-rule="evenodd" d="M3.22 9.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L8 6.06 4.28 9.78a.75.75 0 01-1.06 0z"></path>
</svg>
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-chevron-down Details-content--hidden">
    <path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path>
</svg>
      </button>
    </div>

  
    <div class="flex-nowrap d-none d-md-inline-block mr-3">
      <md-header tabindex="-1" class="toolbar-item tooltipped tooltipped-sw mx-1" aria-label="Add header text" data-ga-click="Markdown Toolbar, click, header" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-heading">
    <path fill-rule="evenodd" d="M3.75 2a.75.75 0 01.75.75V7h7V2.75a.75.75 0 011.5 0v10.5a.75.75 0 01-1.5 0V8.5h-7v4.75a.75.75 0 01-1.5 0V2.75A.75.75 0 013.75 2z"></path>
</svg>
      </md-header>

      <md-bold tabindex="-1" class="toolbar-item tooltipped tooltipped-sw mx-1 js-modifier-label-key" aria-label="Add bold text &lt;ctrl+b&gt;" data-ga-click="Markdown Toolbar, click, bold" role="button" hotkey="b">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-bold">
    <path fill-rule="evenodd" d="M4 2a1 1 0 00-1 1v10a1 1 0 001 1h5.5a3.5 3.5 0 001.852-6.47A3.5 3.5 0 008.5 2H4zm4.5 5a1.5 1.5 0 100-3H5v3h3.5zM5 9v3h4.5a1.5 1.5 0 000-3H5z"></path>
</svg>
      </md-bold>

      <md-italic tabindex="-1" class="toolbar-item tooltipped tooltipped-sw mx-1 js-modifier-label-key" aria-label="Add italic text &lt;ctrl+i&gt;" data-ga-click="Markdown Toolbar, click, italic" role="button" hotkey="i">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-italic">
    <path fill-rule="evenodd" d="M6 2.75A.75.75 0 016.75 2h6.5a.75.75 0 010 1.5h-2.505l-3.858 9H9.25a.75.75 0 010 1.5h-6.5a.75.75 0 010-1.5h2.505l3.858-9H6.75A.75.75 0 016 2.75z"></path>
</svg>
      </md-italic>
    </div>

    <div class="d-flex d-md-inline-block mr-0 mr-md-3">
      <md-quote tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 p-md-1 mx-1" aria-label="Insert a quote" data-ga-click="Markdown Toolbar, click, quote" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-quote">
    <path fill-rule="evenodd" d="M1.75 2.5a.75.75 0 000 1.5h10.5a.75.75 0 000-1.5H1.75zm4 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM2.5 7.75a.75.75 0 00-1.5 0v6a.75.75 0 001.5 0v-6z"></path>
</svg>
      </md-quote>

      <md-code tabindex="-1" class="toolbar-item tooltipped tooltipped-sw js-modifier-label-key p-2 p-md-1 mx-1" aria-label="Insert code &lt;ctrl+e&gt;" data-ga-click="Markdown Toolbar, click, code" role="button" hotkey="e">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-code">
    <path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path>
</svg>
      </md-code>

        <button type="button" data-md-button="" tabindex="-1" class="toolbar-item text-center menu-target p-2 mx-1 d-md-none js-markdown-link-button" aria-label="Add a link" data-ga-click="Markdown Toolbar, click, saved reply">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-link">
    <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
</svg>
        </button>
    <template class="js-markdown-link-dialog">
      <div class="Box-header">
        <h3 class="Box-title">Insert Link</h3>
      </div>
      <div class="Box-body overflow-auto">
        <div>
          <label class="d-block mb-1" for="js-dialog-link-text">Link Text</label>
          <input type="text" class="mb-3 form-control input-block" id="js-dialog-link-text" autofocus="">
        </div>
        <div>
          <label class="d-block mb-1" for="js-dialog-link-href">URL</label>
          <input type="url" class="mb-3 form-control input-block" id="js-dialog-link-href">
        </div>
        <div class="pt-3 border-top">
          <button type="button" class="btn btn-primary btn-block js-markdown-link-insert" data-close-dialog="" data-for-textarea="new_comment_field">
            Add
          </button>
        </div>
      </div>
    </template>

    <md-link tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 p-md-1 d-none d-md-block mx-1 js-modifier-label-key" aria-label="Add a link &lt;ctrl+k&gt;" data-ga-click="Markdown Toolbar, click, link" role="button" hotkey="k">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-link">
    <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
</svg>
    </md-link>
    </div>

  <div class="d-none d-md-inline-block mr-3">
      <md-unordered-list tabindex="-1" class="toolbar-item tooltipped tooltipped-sw mx-1" aria-label="Add a bulleted list" data-ga-click="Markdown Toolbar, click, unordered list" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-list-unordered">
    <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg>
      </md-unordered-list>

      <md-ordered-list tabindex="-1" class="toolbar-item tooltipped tooltipped-sw mx-1" aria-label="Add a numbered list" data-ga-click="Markdown Toolbar, click, ordered list" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-list-ordered">
    <path fill-rule="evenodd" d="M2.003 2.5a.5.5 0 00-.723-.447l-1.003.5a.5.5 0 00.446.895l.28-.14V6H.5a.5.5 0 000 1h2.006a.5.5 0 100-1h-.503V2.5zM5 3.25a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5A.75.75 0 015 3.25zm0 5a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5A.75.75 0 015 8.25zm0 5a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5a.75.75 0 01-.75-.75zM.924 10.32l.003-.004a.851.851 0 01.144-.153A.66.66 0 011.5 10c.195 0 .306.068.374.146a.57.57 0 01.128.376c0 .453-.269.682-.8 1.078l-.035.025C.692 11.98 0 12.495 0 13.5a.5.5 0 00.5.5h2.003a.5.5 0 000-1H1.146c.132-.197.351-.372.654-.597l.047-.035c.47-.35 1.156-.858 1.156-1.845 0-.365-.118-.744-.377-1.038-.268-.303-.658-.484-1.126-.484-.48 0-.84.202-1.068.392a1.858 1.858 0 00-.348.384l-.007.011-.002.004-.001.002-.001.001a.5.5 0 00.851.525zM.5 10.055l-.427-.26.427.26z"></path>
</svg>
      </md-ordered-list>

      <md-task-list tabindex="-1" class="toolbar-item tooltipped tooltipped-sw mx-1" aria-label="Add a task list" data-ga-click="Markdown Toolbar, click, task list" role="button" hotkey="L">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-tasklist">
    <path fill-rule="evenodd" d="M2.5 2.75a.25.25 0 01.25-.25h10.5a.25.25 0 01.25.25v10.5a.25.25 0 01-.25.25H2.75a.25.25 0 01-.25-.25V2.75zM2.75 1A1.75 1.75 0 001 2.75v10.5c0 .966.784 1.75 1.75 1.75h10.5A1.75 1.75 0 0015 13.25V2.75A1.75 1.75 0 0013.25 1H2.75zm9.03 5.28a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"></path>
</svg>
      </md-task-list>
      </div>

            <div class="d-flex d-xs-inline-block">
          <md-mention tabindex="-1" class="flex-auto text-center toolbar-item tooltipped tooltipped-sw p-2 p-md-1 mx-1" aria-label="Directly mention a user or team" data-ga-click="Markdown Toolbar, click, mention" role="button">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-mention">
    <path fill-rule="evenodd" d="M4.75 2.37a6.5 6.5 0 006.5 11.26.75.75 0 01.75 1.298 8 8 0 113.994-7.273.754.754 0 01.006.095v1.5a2.75 2.75 0 01-5.072 1.475A4 4 0 1112 8v1.25a1.25 1.25 0 002.5 0V7.867a6.5 6.5 0 00-9.75-5.496V2.37zM10.5 8a2.5 2.5 0 10-5 0 2.5 2.5 0 005 0z"></path>
</svg>
          </md-mention>

          <label for="fc-pull_request_review_body" data-md-button="" tabindex="-1" class="d-block d-md-none btn-link flex-auto text-center toolbar-item tooltipped tooltipped-sw p-2 mx-1" aria-label="Attach an image">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-image">
    <path fill-rule="evenodd" d="M1.75 2.5a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h.94a.76.76 0 01.03-.03l6.077-6.078a1.75 1.75 0 012.412-.06L14.5 10.31V2.75a.25.25 0 00-.25-.25H1.75zm12.5 11H4.81l5.048-5.047a.25.25 0 01.344-.009l4.298 3.889v.917a.25.25 0 01-.25.25zm1.75-.25V2.75A1.75 1.75 0 0014.25 1H1.75A1.75 1.75 0 000 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0016 13.25zM5.5 6a.5.5 0 11-1 0 .5.5 0 011 0zM7 6a2 2 0 11-4 0 2 2 0 014 0z"></path>
</svg>
          </label>

          <md-ref tabindex="-1" class="flex-auto text-center toolbar-item tooltipped tooltipped-sw p-2 p-md-1 mx-1" aria-label="Reference an issue, pull request, or discussion" data-ga-click="Markdown Toolbar, click, reference" role="button">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-cross-reference">
    <path fill-rule="evenodd" d="M16 1.25v4.146a.25.25 0 01-.427.177L14.03 4.03l-3.75 3.75a.75.75 0 11-1.06-1.06l3.75-3.75-1.543-1.543A.25.25 0 0111.604 1h4.146a.25.25 0 01.25.25zM2.75 3.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 01.75.75v2.19l2.72-2.72a.75.75 0 01.53-.22h4.5a.25.25 0 00.25-.25v-2.5a.75.75 0 111.5 0v2.5A1.75 1.75 0 0113.25 13H9.06l-2.573 2.573A1.457 1.457 0 014 14.543V13H2.75A1.75 1.75 0 011 11.25v-7.5C1 2.784 1.784 2 2.75 2h5.5a.75.75 0 010 1.5h-5.5z"></path>
</svg>
          </md-ref>

          <details class="details-reset details-overlay flex-auto toolbar-item select-menu select-menu-modal-right js-saved-reply-container hx_rsm" tabindex="-1">
  <summary data-md-button="" tabindex="-1" class="text-center tooltipped tooltipped-sw menu-target py-2 p-md-1 hx_rsm-trigger ml-1" aria-label="Insert a reply" data-ga-click="Markdown Toolbar, click, saved reply" aria-haspopup="menu" role="button">
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-reply">
    <path fill-rule="evenodd" d="M6.78 1.97a.75.75 0 010 1.06L3.81 6h6.44A4.75 4.75 0 0115 10.75v2.5a.75.75 0 01-1.5 0v-2.5a3.25 3.25 0 00-3.25-3.25H3.81l2.97 2.97a.75.75 0 11-1.06 1.06L1.47 7.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0z"></path>
</svg>
    <span class="dropdown-caret hide-sm"></span>
  </summary>

  <details-menu style="z-index: 99;" class="select-menu-modal position-absolute right-0 js-saved-reply-menu hx_rsm-modal" data-menu-input="pull_request_review_body_saved_reply_id" src="/settings/replies?context=pull_request_comment" preload="" role="menu">
    <div class="select-menu-header d-flex">
      <span class="select-menu-title flex-auto">Select a reply</span>
      <code><span class="border rounded p-1 mr-2">ctrl .</span></code>
    </div>

    <include-fragment role="menuitem" aria-label="Loading">
      <svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="my-6 mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
    </include-fragment>

  </details-menu>
</details>


      </div>


        <div class="Details-content--hidden d-block d-md-none width-full">
          <md-header tabindex="-1" class="toolbar-item tooltipped tooltipped-sw py-2 pr-2 pl-1 mr-1" aria-label="Add header text" data-ga-click="Markdown Toolbar, click, header" role="button">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-heading">
    <path fill-rule="evenodd" d="M3.75 2a.75.75 0 01.75.75V7h7V2.75a.75.75 0 011.5 0v10.5a.75.75 0 01-1.5 0V8.5h-7v4.75a.75.75 0 01-1.5 0V2.75A.75.75 0 013.75 2z"></path>
</svg>
          </md-header>

          <md-bold tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 mx-1 js-modifier-label-key" aria-label="Add bold text &lt;ctrl+b&gt;" data-ga-click="Markdown Toolbar, click, bold" role="button" hotkey="b">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-bold">
    <path fill-rule="evenodd" d="M4 2a1 1 0 00-1 1v10a1 1 0 001 1h5.5a3.5 3.5 0 001.852-6.47A3.5 3.5 0 008.5 2H4zm4.5 5a1.5 1.5 0 100-3H5v3h3.5zM5 9v3h4.5a1.5 1.5 0 000-3H5z"></path>
</svg>
          </md-bold>

          <md-italic tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 mx-1 js-modifier-label-key" aria-label="Add italic text &lt;ctrl+i&gt;" data-ga-click="Markdown Toolbar, click, italic" role="button" hotkey="i">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-italic">
    <path fill-rule="evenodd" d="M6 2.75A.75.75 0 016.75 2h6.5a.75.75 0 010 1.5h-2.505l-3.858 9H9.25a.75.75 0 010 1.5h-6.5a.75.75 0 010-1.5h2.505l3.858-9H6.75A.75.75 0 016 2.75z"></path>
</svg>
          </md-italic>

          <md-unordered-list tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 mx-1" aria-label="Add a bulleted list" data-ga-click="Markdown Toolbar, click, unordered list" role="button">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-list-unordered">
    <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg>
          </md-unordered-list>

          <md-ordered-list tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 mx-1" aria-label="Add a numbered list" data-ga-click="Markdown Toolbar, click, ordered list" role="button">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-list-ordered">
    <path fill-rule="evenodd" d="M2.003 2.5a.5.5 0 00-.723-.447l-1.003.5a.5.5 0 00.446.895l.28-.14V6H.5a.5.5 0 000 1h2.006a.5.5 0 100-1h-.503V2.5zM5 3.25a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5A.75.75 0 015 3.25zm0 5a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5A.75.75 0 015 8.25zm0 5a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5a.75.75 0 01-.75-.75zM.924 10.32l.003-.004a.851.851 0 01.144-.153A.66.66 0 011.5 10c.195 0 .306.068.374.146a.57.57 0 01.128.376c0 .453-.269.682-.8 1.078l-.035.025C.692 11.98 0 12.495 0 13.5a.5.5 0 00.5.5h2.003a.5.5 0 000-1H1.146c.132-.197.351-.372.654-.597l.047-.035c.47-.35 1.156-.858 1.156-1.845 0-.365-.118-.744-.377-1.038-.268-.303-.658-.484-1.126-.484-.48 0-.84.202-1.068.392a1.858 1.858 0 00-.348.384l-.007.011-.002.004-.001.002-.001.001a.5.5 0 00.851.525zM.5 10.055l-.427-.26.427.26z"></path>
</svg>
          </md-ordered-list>

          <md-task-list tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 mx-1" aria-label="Add a task list" data-ga-click="Markdown Toolbar, click, task list" role="button" hotkey="L">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-tasklist">
    <path fill-rule="evenodd" d="M2.5 2.75a.25.25 0 01.25-.25h10.5a.25.25 0 01.25.25v10.5a.25.25 0 01-.25.25H2.75a.25.25 0 01-.25-.25V2.75zM2.75 1A1.75 1.75 0 001 2.75v10.5c0 .966.784 1.75 1.75 1.75h10.5A1.75 1.75 0 0015 13.25V2.75A1.75 1.75 0 0013.25 1H2.75zm9.03 5.28a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"></path>
</svg>
          </md-task-list>
        </div>
</markdown-toolbar>
  </div>

  <div class="comment-form-error js-comment-form-error" role="alert" hidden="">
    There was an error creating your Issue.
  </div>


  <file-attachment class="js-upload-markdown-image is-default" input="fc-new_comment_field" role="tabpanel" data-tab-container-no-tabstop="true" data-upload-repository-id="4065980" data-upload-policy-url="/upload/policies/assets"><input type="hidden" value="3mQdv/TT9UbDRXmAS6eiESOLKJFKnu+1WyXr1XGVyGlaICcoZ0mWQvj6RsENDTn8fFwf4eS7awIeT8Tf+V4cOQ==" data-csrf="true" class="js-data-upload-policy-url-csrf">
    <div class="write-content js-write-bucket tooltipped tooltipped-ne tooltipped-no-delay tooltipped-align-left-1 hide-reaction-suggestion upload-enabled mx-0 mt-2 mb-2 mx-md-2 hx_sm-hide-drag-drop js-reaction-suggestion" data-reaction-markup="Would you like to leave a reaction instead?">
        <input type="hidden" name="saved_reply_id" id="new_comment_field_saved_reply_id" class="js-resettable-field" value="" data-reset-value="">

      <text-expander keys=": @ #" data-issue-url="/suggestions/issue/512946760?issue_suggester=1&amp;repository=libopencm3&amp;user_id=libopencm3" data-mention-url="/suggestions/issue/512946760?mention_suggester=1&amp;repository=libopencm3&amp;user_id=libopencm3" multiword="#" data-emoji-url="/autocomplete/emoji">
          
          <textarea name="comment[body]" id="new_comment_field" placeholder="Leave a comment" aria-label="Comment body" data-required-trimmed="Text field is empty" class="form-control input-contrast comment-form-textarea js-comment-field js-paste-markdown js-task-list-field js-quick-submit js-size-to-fit js-session-resumable js-saved-reply-shortcut-comment-field" required=""></textarea>

      </text-expander>
        
  <label class="text-normal drag-and-drop hx_drag-and-drop position-relative d-flex flex-justify-between">
    <input accept=".gif,.jpeg,.jpg,.mov,.mp4,.png,.csv,.docx,.fodg,.fodp,.fods,.fodt,.gz,.log,.md,.odf,.odg,.odp,.ods,.odt,.pdf,.pptx,.txt,.xls,.xlsx,.zip" type="file" multiple="" class="manual-file-chooser manual-file-chooser-transparent top-0 right-0 bottom-0 left-0 width-full ml-0 form-control rounded-top-0" id="fc-new_comment_field">
    <span class="color-bg-secondary position-absolute top-0 left-0 rounded-bottom-2 width-full height-full" style="pointer-events: none;"></span>
    <span class="position-relative pr-2" style="pointer-events: none;">
      <span class="default">
        
        Attach files by dragging &amp; dropping, selecting or pasting them.
      </span>
      <span class="loading">
        <svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="16" height="16" class="v-align-text-bottom mr-1 anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg> Uploading your files…
      </span>
      <span class="error bad-file">
        We don’t support that file type.
        <span class="drag-and-drop-error-info">
          <span class="btn-link">Try again</span> with a
          GIF, JPEG, JPG, MOV, MP4, PNG, CSV, DOCX, FODG, FODP, FODS, 
FODT, GZ, LOG, MD, ODF, ODG, ODP, ODS, ODT, PDF, PPTX, TXT, XLS, XLSX or
 ZIP.
        </span>
      </span>
      <span class="error bad-permissions">
        Attaching documents requires write permission to this repository.
        <span class="drag-and-drop-error-info">
          <span class="btn-link">Try again</span> with a GIF, JPEG, JPG,
 MOV, MP4, PNG, CSV, DOCX, FODG, FODP, FODS, FODT, GZ, LOG, MD, ODF, 
ODG, ODP, ODS, ODT, PDF, PPTX, TXT, XLS, XLSX or ZIP.
        </span>
      </span>
      <span class="error repository-required">
        We don’t support that file type.
        <span class="drag-and-drop-error-info">
          <span class="btn-link">Try again</span> with a GIF, JPEG, JPG,
 MOV, MP4, PNG, CSV, DOCX, FODG, FODP, FODS, FODT, GZ, LOG, MD, ODF, 
ODG, ODP, ODS, ODT, PDF, PPTX, TXT, XLS, XLSX or ZIP.
        </span>
      </span>
      <span class="error too-big js-upload-too-big">
      </span>
      <span class="error empty">
        This file is empty.
        <span class="drag-and-drop-error-info">
          <span class="btn-link">Try again</span> with a file that’s not empty.
        </span>
      </span>
      <span class="error hidden-file">
        This file is hidden.
        <span class="drag-and-drop-error-info">
          <span class="btn-link">Try again</span> with another file.
        </span>
      </span>
      <span class="error failed-request">
        Something went really wrong, and we can’t process that file.
        <span class="drag-and-drop-error-info">
          <span class="btn-link">Try again.</span>
        </span>
      </span>
    </span>
    <span class="tooltipped tooltipped-nw" aria-label="Styling with Markdown is supported">
      <a class="Link--muted position-relative d-inline" href="https://guides.github.com/features/mastering-markdown/" target="_blank" data-ga-click="Markdown Toolbar, click, help" aria-label="Learn about styling with Markdown">
        <svg class="octicon octicon-markdown v-align-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"></path></svg>
      </a>
    </span>
  </label>

    </div>
</file-attachment>
  <div role="tabpanel" class="js-preview-panel overflow-auto border-bottom mx-0 my-3 mx-md-2 mb-md-2" hidden="">
    <input type="hidden" name="path" value="" class="js-path">
    <input type="hidden" name="line" value="" class="js-line-number">
    <input type="hidden" name="start_line" value="" class="js-start-line-number">
    <input type="hidden" name="preview_side" value="" class="js-side">
    <input type="hidden" name="preview_start_side" value="" class="js-start-side">
    <input type="hidden" name="start_commit_oid" value="" class="js-start-commit-oid">
    <input type="hidden" name="end_commit_oid" value="" class="js-end-commit-oid">
    <input type="hidden" name="base_commit_oid" value="" class="js-base-commit-oid">
    <input type="hidden" name="comment_id" value="" class="js-comment-id">
    <div class="comment js-suggested-changes-container" data-thread-side="">
  <div class="comment-body markdown-body js-preview-body">
    <p>Nothing to preview</p>
  </div>
</div>

  </div>


  <div class="comment-form-error mb-2 js-comment-update-error" hidden=""></div>
</tab-container>

          </fieldset>
          <div class="form-actions m-0 mx-md-2 my-md-2 p-0">
              <div id="partial-new-comment-form-actions" class="js-socket-channel js-updatable-content" data-channel="eyJjIjoiaXNzdWU6NTEyOTQ2NzYwOnN0YXRlIiwidCI6MTYyMzI5MDA0NX0=--e38a50f331fb2b17be85b82a1e6032feb5a1ee613cc1265e4e93a2a849fe27e0" data-url="/libopencm3/libopencm3/issues/1119/show_partial?partial=issues%2Fform_actions">

  <div class="d-flex flex-justify-end">
    <div class="color-bg-secondary">
        
    </div>
    <div class="color-bg-secondary ml-1">
      <button type="submit" class="btn btn-primary" data-disable-with="" data-disable-invalid="" disabled="disabled">
        Comment
      </button>
    </div>
  </div>
</div>

          </div>
</form>    </div>
        
<div class="text-small color-text-secondary mx-md-2 mt-md-2 mb-2 mt-3">
  <svg class="octicon octicon-info mr-1" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path></svg>Remember, contributions to this repository should follow
    our
    <a href="https://docs.github.com/articles/github-community-guidelines" data-ga-click="Issue, click github_community_guidelines link in composer footer, repo:libopencm3/libopencm3">GitHub Community Guidelines</a>.
</div>


</div>


              </div>
            </div>
</div>

    <div data-view-component="true" class="flex-shrink-0 col-12 col-md-3">              
<div id="partial-discussion-sidebar" class="js-socket-channel js-updatable-content" data-channel="eyJjIjoiaXNzdWU6NTEyOTQ2NzYwIiwidCI6MTYyMzI5MDA0NX0=--53bbe2a79ffbeea38d55a35979dc5be75b55db543c4e616490d0c3d3bab62119" data-gid="MDU6SXNzdWU1MTI5NDY3NjA=" data-url="/libopencm3/libopencm3/issues/1119/show_partial?partial=issues%2Fsidebar" data-project-hovercards-enabled="">



    <div class="discussion-sidebar-item sidebar-assignee js-discussion-sidebar-item">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" aria-label="Select assignees" action="/libopencm3/libopencm3/issues/1119/assignees" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="gk/st9kpSLfVdRhZS7qIWVSLN7ZrqlH6tZ6lKCWD9UOKHnXAioYeuTbqP7ofToY3khusEgMxHYCrQ8Lds2SFXg==">

      
  <div class="discussion-sidebar-heading text-bold">
    Assignees
  </div>


      
<span class="css-truncate js-issue-assignees">
    No one assigned
</span>


</form></div>


      <div class="discussion-sidebar-item js-discussion-sidebar-item">
  


  <div class="discussion-sidebar-heading text-bold">
    Labels
  </div>

  <div class="js-issue-labels d-flex flex-wrap">
    None yet
</div>

</div>


      
<div class="discussion-sidebar-item js-discussion-sidebar-item">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" aria-label="Select projects" action="/libopencm3/libopencm3/projects/issues/1119" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="an8dREOHLAqoaC9P0ejNP+dHZQFTa5RzQSsW+RhIIckDQGFOGLC6KtkcZ+XvQ7pUSN73D+Kb1kavR7BdoHhVJw==">
      <div class="discussion-sidebar-heading text-bold">
    Projects
  </div>

    
<span class="css-truncate sidebar-progress-bar">
    None yet

</span>

</form></div>



      <div class="discussion-sidebar-item sidebar-progress-bar js-discussion-sidebar-item">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" aria-label="Select milestones" action="/libopencm3/libopencm3/issues/1119/set_milestone?partial=issues%2Fsidebar%2Fshow%2Fmilestone" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="Xl7agVh25qnKmycIoAlzkAkVwTpgrVe9FQcZObhFTejjC1yHmDEZoiDlgf2O/CpzqWioD3RlQp0tRHVnNjm1qw==">
      <div class="discussion-sidebar-heading text-bold">
    Milestone
  </div>

      No milestone

</form></div>


      
<div class="discussion-sidebar-item js-discussion-sidebar-item" data-issue-and-pr-hovercards-enabled="">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" aria-label="Link issues" action="/libopencm3/libopencm3/issues/closing_references?source_id=512946760&amp;source_type=ISSUE" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="Xvp/u8UqVukEEmlXBcUCGPuly45JLHb9oEOi+j8ZE+bD9S0Aoyo6PMGVhF9A3WDksdnuKaWvgW//SaJmToxM/Q==">
    
  <div class="discussion-sidebar-heading text-bold">
    Linked pull requests
  </div>


      
<p>Successfully merging a pull request may close this issue.</p>

    <div class="css-truncate my-1">
      <a href="https://github.com/libopencm3/libopencm3/pull/1256" data-hydro-click="{&quot;event_type&quot;:&quot;issue_cross_references.click&quot;,&quot;payload&quot;:{&quot;reference_location&quot;:&quot;ISSUE_SIDEBAR&quot;,&quot;user_id&quot;:12674623,&quot;issue_id&quot;:512946760,&quot;pull_request_id&quot;:501195240,&quot;originating_url&quot;:&quot;https://github.com/libopencm3/libopencm3/issues/1119&quot;}}" data-hydro-click-hmac="547c9d7340382ce1177d45a4ff3cc6c248bd6544626012a733d97f832997813f" data-hovercard-type="pull_request" data-hovercard-url="/libopencm3/libopencm3/pull/1256/hovercard" class="Link--primary text-bold css-truncate-target width-fit markdown-title">
        <svg class="octicon octicon-git-pull-request open" title="Open" aria-label="Open pull request" viewBox="0 0 16 16" version="1.1" width="16" height="16" role="img"><path fill-rule="evenodd" d="M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"></path></svg>
        Disable VBUS sensing
      </a>
    </div>

</form>
</div>


      <div class="discussion-sidebar-item sidebar-notifications">
    <div class="thread-subscription-status js-socket-channel js-updatable-content" data-replace-remote-form-target="" data-channel="eyJjIjoibGlzdC1zdWJzY3JpcHRpb246cmVwb3NpdG9yeTo0MDY1OTgwOjEyNjc0NjIzIiwidCI6MTYyMzI5MDA0NX0=--9cce2bba8f1baff01b06e50a546355caa61d86c6dbb6781722fb9ee10f4d8408 eyJjIjoidGhyZWFkLXN1YnNjcmlwdGlvbjo1MTI5NDY3NjA6MTI2NzQ2MjMiLCJ0IjoxNjIzMjkwMDQ1fQ==--1a423eeb87b0f16514f7182b14de6526623e8ccade00111ebe6947e10d3c510e" data-url="/notifications/thread_subscription?repository_id=4065980&amp;thread_class=Issue&amp;thread_id=512946760">
    <div>
  <div class="d-flex position-relative">
    <details data-view-component="true" class="lh-default width-full details-overlay details-overlay-dark details-reset color-text-primary">
  <summary aria-label="Customize notification settings" role="button" data-view-component="true" class="discussion-sidebar-heading discussion-sidebar-toggle">        <div class="d-flex flex-justify-between">
          <div class="text-bold">Notifications</div>
          <span>Customize</span>
        </div>
</summary>
  <details-dialog src="/notifications/thread_subscription_dialog?repository_id=4065980&amp;thread_class=Issue&amp;thread_id=512946760" aria-label="Notification settings" data-view-component="true" class="Box Box--overlay flex-column anim-fade-in fast overflow-auto d-flex f5" role="dialog" aria-modal="true">        <div class="Box-header">
          <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog="">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
          </button>
          <h3 class="Box-title mb-0 mt-0">
            Notification settings
          </h3>
        </div>

        <include-fragment aria-label="Loading">
          <div class="d-flex flex-items-center flex-justify-center" style="min-height: 315px;">
            <img alt="Loading..." src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/octocat-spinner-64.gif" width="32" height="32">
          </div>
        </include-fragment>
</details-dialog>
</details>  </div>
</div>

    <form data-replace-remote-form="true" class="thread-subscribe-form" action="/notifications/thread" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="OTCN7DHVSoH5GrE68mfNSRpFRZY4b4lTjO2YLsW+Ijf190laCsmEch0wiVqXywIFG8B0EETVcSc6gqhGZZZnLw==">      <input type="hidden" name="repository_id" value="4065980">
      <input type="hidden" name="thread_id" value="512946760">
      <input type="hidden" name="thread_class" value="Issue">
      <input type="hidden" name="id" value="subscribe">
      <button type="submit" class="btn btn-block btn-sm thread-subscribe-button" data-disable-with="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-bell">
    <path d="M8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path><path fill-rule="evenodd" d="M8 1.5A3.5 3.5 0 004.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01l.001.006c0 .002.002.004.004.006a.017.017 0 00.006.004l.007.001h10.964l.007-.001a.016.016 0 00.006-.004.016.016 0 00.004-.006l.001-.007a.017.017 0 00-.003-.01l-1.703-2.554a1.75 1.75 0 01-.294-.97V5A3.5 3.5 0 008 1.5zM3 5a5 5 0 0110 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.518 1.518 0 0113.482 13H2.518a1.518 1.518 0 01-1.263-2.36l1.703-2.554A.25.25 0 003 7.947V5z"></path>
</svg> Subscribe
      </button>
</form>    <p class="reason text-small color-text-secondary">You’re not receiving notifications from this thread.</p>
</div>

  </div>


    <div id="partial-users-participants" class="discussion-sidebar-item">
  <div class="participation">
    <div class="discussion-sidebar-heading text-bold">
      6 participants
    </div>
    <div class="participation-avatars d-flex flex-wrap">
        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/karlp/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/karlp">
          <img class="avatar avatar-user" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/127907_003.jpeg" alt="@karlp" width="26" height="26"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/ChuckM/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ChuckM">
          <img class="avatar avatar-user" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/532407_002.jpeg" alt="@ChuckM" width="26" height="26"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/fornellas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fornellas">
          <img class="avatar avatar-user" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/1386232_003.jpeg" alt="@fornellas" width="26" height="26"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/rwilfong50401/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rwilfong50401">
          <img class="avatar avatar-user" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/8082383.jpeg" alt="@rwilfong50401" width="26" height="26"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/v44r/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/v44r">
          <img class="avatar avatar-user" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/46873924_002.png" alt="@v44r" width="26" height="26"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/yuanyanhui/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yuanyanhui">
          <img class="avatar avatar-user" src="STM32F411CEU6%20USB%20Device%20Not%20Working%20(otgfs_usb_driver%20maybe%3F)%20%C2%B7%20Issue%20%231119%20%C2%B7%20libopencm3_libopencm3_files/51470109_003.png" alt="@yuanyanhui" width="26" height="26"> 
</a>    </div>
  </div>
</div>


    

    



    

</div>

</div>
</div>      </div>
    </div>


    </div>


  </div>
</div>

    </main>
  </div>

  </div>

          
<div class="footer container-xl width-full p-responsive" role="contentinfo">
  <div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between pt-6 pb-2 mt-6 f6 color-text-secondary border-top color-border-secondary ">
    <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      <li class="mr-3 mr-lg-0">© 2021 GitHub, Inc.</li>
        <li class="mr-3 mr-lg-0"><a href="https://docs.github.com/en/github/site-policy/github-terms-of-service" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://docs.github.com/en/github/site-policy/github-privacy-statement" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to security, text:security" href="https://github.com/security">Security</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://www.githubstatus.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:Docs" href="https://docs.github.com/">Docs</a></li>
    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mx-lg-4" href="https://github.com/">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="24" width="24" class="octicon octicon-mark-github">
    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
</svg>
</a>
    <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
        <li class="mr-3 mr-lg-0"><a href="https://support.github.com/" data-ga-click="Footer, go to contact, text:contact">Contact GitHub</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.com/pricing" data-ga-click="Footer, go to Pricing, text:Pricing">Pricing</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://docs.github.com/" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://services.github.com/" data-ga-click="Footer, go to training, text:training">Training</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.blog/" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 color-text-tertiary"></span>
  </div>

  
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error" hidden="">
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
    </button>
    You can’t perform that action at this time.
  </div>

  <div class="js-stale-session-flash flash flash-warn flash-banner" hidden="">
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
    <span class="js-stale-session-flash-signed-in" hidden="">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="js-stale-session-flash-signed-out" hidden="">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
    <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default color-text-primary hx_rsm" open="">
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog="">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

    <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: currentcolor none medium; top: 837.75px; left: 546.692px; z-index: 100;" tabindex="0">
  <div class="Popover-message Popover-message--large Box color-shadow-large Popover-message--bottom-left" style="width:360px;"></div>
</div>

    <template id="snippet-clipboard-copy-button">
  <div class="zeroclipboard-container position-absolute right-0 top-0">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-clippy js-clipboard-clippy-icon m-2">
    <path fill-rule="evenodd" d="M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z"></path>
</svg>
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-check js-clipboard-check-icon color-text-success d-none m-2">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>



  

  


<div aria-live="polite" class="sr-only"></div></body></html>